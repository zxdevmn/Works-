"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_commenting_constants_values_ts-ui_packages_use-analytics_use-analytics_ts-ui_pack-af4212"],{53935:(e,n,t)=>{t.d(n,{Bq:()=>l,Sp:()=>r,mU:()=>a,rp:()=>i});let a={issueComment:"react-issue-comment",commentsContainer:"react-comments-container",markdownBody:"markdown-body",issueBody:"react-issue-body"},l={issueCommentComposer:"react-issue-comment-composer"};function i(e){return`#${e}`}function r(e){return`.${e}`}},69730:(e,n,t)=>{t.d(n,{k:()=>a});let a={canNotCommentOnIssue:"You do not have permissions to comment on this issue.",confirmations:{deleteCommentTitle:"Delete comment",deleteCommentContent:"Are you sure you'd like to delete this comment?",deleteCommentConfirmButtonContent:"Delete"},hiddenComment:"Hidden comment",hiddenCommentWithReason:"Hidden as",issueLockedToCollaborators:"This conversation has been locked and limited to collaborators.",repoArchived:"This repository has been archived.",sentViaEmail:"via email",commentAuthor:"Author",spammyBadge:"Spammy",spammyBadgeTooltip:"This user is marked as spammy. Their comments will only show in staff mode.",sponsorBadge:"Sponsor",newComment:"new Comment",newCommentPlaceholder:"Use Markdown to format your comment",commentSubjectAuthoer:(e,n)=>`${e?"You are the":"This user is the"} author of this ${n}`,sponsor:(e,n)=>`${e}'s sponsor since ${n}`,noDescriptionProvided:"No description provided.",staleCommentErrorPrefix:"GraphQL error: STALE_DATA",issueConvertedToDiscussion:"Commenting has been disabled because this issue was converted to a"}},46554:(e,n,t)=>{t.d(n,{Y:()=>a});let a={avatarLink:"avatar-link",commentAuthorAssociation:"comment-author-association",commentSubjectAuthor:"comment-subject-author",spammyLabel:"spammy-label",sponsorLabel:"sponsor-label",commentHeader:"comment-header",commentHeaderLeftSideItems:"comment-header-left-side-items",commentHeaderRightSideItems:"comment-header-right-side-items",commentHeaderHamburger:"comment-header-hamburger",commentHeaderHamburgerOpen:"comment-header-hamburger-open",commentMenuRefComment:"comment-menu-ref-comment",commentViewerOuterBox:e=>e?`comment-viewer-outer-box-${e}`:"comment-viewer-outer-box",commentComposer:"comment-composer",markdownBody:"markdown-body",commentBox:(e="")=>`markdown-editor-${e}`,readonlyCommentBox:(e="")=>`readonly-markdown-editor-${e}`,commentSkeleton:"comment-skeleton"}},82667:(e,n,t)=>{t.d(n,{t:()=>a});let a={ghostUser:{displayName:"Ghost",login:"ghost",avatarUrl:"https://avatars.githubusercontent.com/ghost",path:"/ghost",url:"/ghost"},localStorageKeys:{issueComment:(e,n,t)=>`${e}-i${n}-c${t}.view-issue-comment`,issueNewComment:(e,n)=>`${e}-i${n}.view-issue-comment-new`}}},79828:(e,n,t)=>{t.d(n,{E:()=>d,s:()=>i});var a=t(66661),l=t(53935);function i(e){if(!e)return e;let n=e.split("\n"),t="";for(let e of n)t=t.concat(`> ${e}
`);return t}let r=e=>n=>{for(let t of e.matchAll(/(!\[[^[]+?\]\([^()]+\/)([\w\d-]+)(.+)/g)){let e=t[1],a=t[2],l=t[3];if(!e||!a||!l)continue;let i=`${e}${a}${l.split(")")[0]})`,r=n.split(a);if(r.length<2)continue;let o=r[0]?.match(/!\[[^[]+$/),s=r[1]?.split(")")[0],d=`${o}${a}${s})`;n=n.replaceAll(d,i)}return n},o=e=>"none"===e.style.display||"hidden"===e.style.visibility||"true"===e.ariaHidden,s=e=>{let n=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,{acceptNode:()=>NodeFilter.FILTER_ACCEPT}),t=n.nextNode();for(;t;)t instanceof HTMLElement&&o(t)&&t.remove(),t=n.nextNode()};function d(e,n,t){if(!e)return;let i=document.querySelector((0,l.Sp)(l.mU.commentsContainer)),o=e.querySelector((0,l.Sp)(l.mU.markdownBody)),d=new a.g("",s);if(n&&o.contains(n.anchorNode)&&o.contains(n.range.startContainer)&&o.contains(n.range.endContainer)&&!n.range.collapsed&&""!==n.range.toString().trim()?d.range=n.range:d.select(o),t&&(d.processSelectionTextFn=r(t)),i){let e=i.querySelector((0,l.rp)(l.Bq.issueCommentComposer)),n=e?.querySelector("textarea");if(n)return d.insert(n),n.value}}},51848:(e,n,t)=>{let a;t.d(n,{BI:()=>p,Ti:()=>g,lA:()=>m});var l=t(70837),i=t(18679),r=t(74572),o=t(51528);let{getItem:s}=(0,r.A)("localStorage"),d="dimension_",c=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,l.O)("octolytics");delete e.baseContext,a=new i.s(e)}catch{}function u(e){let n=(0,l.O)("octolytics").baseContext||{};if(n)for(let[e,t]of(delete n.app_id,delete n.event_url,delete n.host,Object.entries(n)))e.startsWith(d)&&(n[e.replace(d,"")]=t,delete n[e]);let t=document.querySelector("meta[name=visitor-payload]");for(let[e,a]of(t&&Object.assign(n,JSON.parse(atob(t.content))),new URLSearchParams(window.location.search)))c.includes(e.toLowerCase())&&(n[e]=a);return n.staff=(0,o.X)().toString(),Object.assign(n,e)}function m(e){a?.sendPageView(u(e))}function p(e,n={}){let t=document.head?.querySelector('meta[name="current-catalog-service"]')?.content,l=t?{service:t}:{};for(let[e,t]of Object.entries(n))null!=t&&(l[e]=`${t}`);a&&(u(l),a.sendEvent(e||"unknown",u(l)))}function g(e){return Object.fromEntries(Object.entries(e).map(([e,n])=>[e,JSON.stringify(n)]))}},51550:(e,n,t)=>{t.d(n,{A:()=>a});let a=(e,n)=>{let t=new URL(e,window.location.origin),a=new URL(n,window.location.origin);return a.href.includes("#")&&t.host===a.host&&t.pathname===a.pathname&&t.search===a.search}},7793:(e,n,t)=>{t.d(n,{k:()=>a});let a={confirmations:{deleteEditHistoryTitle:"Are you sure you want to delete this revision from the history?",deleteEditHistoryContent:"This edit\u2019s content will no longer be visible. This action can not be undone.",deleteEditHistoryConfirmButtonContent:"Remove"},editHistory:{viewingEditTitle:"Viewing edit",deleted:"Deleted",mostRecent:"Most recent",emptyEdit:"This revision does not contain any content.",deletedThisRevision:"deleted this revision",created:"created",edited:"edited",deleteRevisionAriaLabel:"Delete this edit revision",ariaLabel:"Open edits",openEditsButton:"Edits",editedBy:"edited by"}}},8001:(e,n,t)=>{t.d(n,{f:()=>i});let a=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"},{args:null,kind:"FragmentSpread",name:"MarkdownLastEditedBy"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMarkdownEditHistoryViewerQueryQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a],storageKey:null},a],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"e316d155b8a70d96452e7013a776d899",metadata:{},name:"useMarkdownEditHistoryViewerQueryQuery",operationKind:"query",text:null}}}();a.hash="2ce76c06d4f0c7fc93f5c5de49964950";var l=t(18312);function i({id:e}){let n=(0,l.useLazyLoadQuery)(a,{id:e});return n.node?n.node:null}},7699:(e,n,t)=>{t.d(n,{Js:()=>l,fj:()=>i,qG:()=>a});let a={CONFUSED:"\u{1F615}",EYES:"\u{1F440}",HEART:"\u2764\uFE0F",HOORAY:"\u{1F389}",LAUGH:"\u{1F604}",THUMBS_DOWN:"\u{1F44E}",THUMBS_UP:"\u{1F44D}",ROCKET:"\u{1F680}"};function l(e,n){if(0===e.length||0===n)return"";let t=e.slice(0);if(1===t.length)return t[0];if(2===t.length)return t.join(" and ");n>e.length&&t.push(`${n-e.length} more`);let a=t.pop();return t.push(`${t.pop()} and ${a}`),t.join(", ")}function i(e,n,t,i){return 0===t.length||0===i?"":`${n?"React":"Unreact"} with ${a[e]} (${t.length} ${a[e]} reaction${1===t.length?"":"s"} so far, including ${l(t,i)})`}},71312:(e,n,t)=>{t.d(n,{S:()=>o,s:()=>r});var a=t(96540),l=t(51848),i=t(31481);function r(){let e=(0,a.useContext)(i.I);if(!e)throw Error("useAnalytics must be used within an AnalyticsContext");let{appName:n,category:t,metadata:r}=e;return{sendAnalyticsEvent:(0,a.useCallback)((e,a,i={})=>{let o={react:!0,app_name:n,category:t,...r};(0,l.BI)(e,{...o,...i,target:a})},[n,t,r])}}function o(){let{sendAnalyticsEvent:e}=r();return{sendClickAnalyticsEvent:(0,a.useCallback)((n={})=>{e("analytics.click",void 0,n)},[e])}}},27788:(e,n,t)=>{t.d(n,{Z:()=>u,o:()=>m});var a=t(96540),l=t(47767),i=t(45588),r=t(84976),o=t(51550),s=t(92812),d=t(56725),c=t(99523);let u=()=>{let{routes:e}=a.useContext(s.B),n=(0,l.Zp)();return a.useCallback((l,r={})=>{let s=(0,i.o1)(l).pathname;if((0,i.ue)(e,s)){(0,o.A)(location.href,l.toString())||(0,d.SC)("react");let{preventAutofocus:e,...t}=r;(0,a.startTransition)(()=>{n(l,e?{...t,state:{[c.V]:!0,...t.state}}:t);let{turbo:a,...i}=window.history.state??{};window.history.replaceState({...i,skipTurbo:!0},"",location.href)})}else{let e="string"==typeof l?l:(0,i.AO)(l);(async()=>{let{softNavigate:n}=await Promise.all([t.e("vendors-node_modules_github_turbo_dist_turbo_es2017-esm_js"),t.e("ui_packages_soft-navigate_soft-navigate_ts")]).then(t.bind(t,63120));n(e)})()}},[n,e])},m=()=>{let[e]=(0,r.ok)(),n=u(),{pathname:t}=(0,l.zy)(),i=a.useCallback((a,l={})=>{n({pathname:t,search:(0,r.PI)("function"==typeof a?a(e):a).toString()},l)},[e,n,t]);return[e,i]}},84568:(e,n,t)=>{t.d(n,{v:()=>b});var a=t(74848),l=t(22868),i=t(83056),r=t(38621),o=t(52464),s=t(34614),d=t(89169),c=t(75177),u=t(69730),m=t(46554),p=t(99940);let g={MEMBER:"Member",OWNER:"Owner",MANNEQUIN:"Mannequin",COLLABORATOR:"Collaborator",CONTRIBUTOR:"Contributor",FIRST_TIME_CONTRIBUTOR:"First-time contributor",FIRST_TIMER:"First-time GitHub contributor",NONE:""},y={MEMBER:(e,n)=>`${e?"You are":"This user is"} a member of the ${n} organization.`,OWNER:(e,n)=>`${e?"You are":"This user is"} the owner of the ${n} repository.`,MANNEQUIN:()=>"This is a mannequin user.",COLLABORATOR:(e,n)=>`${e?"You have":"This user has"} been invited to collaborate on the ${n} repository.`,CONTRIBUTOR:(e,n)=>`${e?"You have":"This user has"} previously committed to the ${n} repository.`,FIRST_TIME_CONTRIBUTOR:(e,n)=>`${e?"You are":"This user is"} a first-time contributor to the ${n} repository.`,FIRST_TIMER:e=>`${e?"This is your":"This user's"} first pull request on GitHub.`,NONE:()=>""},h=({association:e,org:n,repo:t,viewerDidAuthor:l})=>{let i=g[e]?e:"NONE";if("NONE"===i)return null;let r=y[i](l??!1,n,t);return(0,a.jsx)(p.C,{label:g[i],ariaLabel:r,testId:m.Y.commentAuthorAssociation,viewerDidAuthor:l})};try{h.displayName||(h.displayName="CommentAuthorAssociation")}catch{}let x=({viewerDidAuthor:e,subjectType:n})=>(0,a.jsx)(p.C,{viewerDidAuthor:e,ariaLabel:u.k.commentSubjectAuthoer(e??!1,n??"comment"),label:u.k.commentAuthor,testId:m.Y.commentSubjectAuthor});try{x.displayName||(x.displayName="CommentSubjectAuthor")}catch{}var f=t(68683);let k=({createdAt:e,owner:n,viewerDidAuthor:t})=>{let l=new Date(e),i=l.toLocaleString("default",{month:"long"}),r=u.k.sponsor(n,`${i} ${l.getFullYear()}`);return(0,a.jsx)(p.C,{label:u.k.sponsorBadge,ariaLabel:r,testId:m.Y.sponsorLabel,viewerDidAuthor:t})};try{k.displayName||(k.displayName="SponsorsBadge")}catch{}function b({actions:e,comment:n,commentAuthorLogin:t,isMinimized:l=!1,avatarUrl:g,lastEditedByMessage:y,editHistoryComponent:b,additionalHeaderMessage:C,sx:v,viewerDidAuthor:w=!1,userAvatar:F=(0,a.jsx)(j,{avatarUrl:g,login:t,isHidden:!!n.pendingMinimizeReason||n.isHidden}),commentSubjectAuthorLogin:A,commentSubjectType:E,isReply:S=!1,headingProps:{as:K,...R}={as:"h3"},commentAuthorType:T,id:N,forceInlineAvatar:L}){let I=S?{}:{backgroundColor:w?"accent.subtle":"canvas.subtle",borderTopLeftRadius:"6px",borderTopRightRadius:"6px",borderBottom:"1px solid",borderColor:w?"accent.muted":"border.default",borderBottomWidth:l?0:1,py:L?[1,1,2,2]:1,pr:1,pl:3,...v},D=n.pendingMinimizeReason??n.minimizedReason,H=!!D||n.isHidden,U=new Date(n.createdAt),_=(0,a.jsxs)(a.Fragment,{children:[C&&(0,a.jsx)(o.A,{sx:{color:"fg.muted",overflow:"hidden",textOverflow:"ellipsis"},children:C}),(0,a.jsxs)(o.A,{sx:{overflow:"hidden",textOverflow:"ellipsis",color:"fg.muted"},children:[(0,a.jsx)(s.A,{href:n.url,sx:{color:"inherit"},children:(0,a.jsxs)(d.A,{date:U,children:["on ",U.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),n.createdViaEmail&&(0,a.jsx)("span",{children:` ${u.k.sentViaEmail}`})]}),H&&(0,a.jsxs)(o.A,{sx:{color:"fg.muted"},children:[" ","\xb7"," ",D?(0,a.jsxs)("span",{children:[u.k.hiddenCommentWithReason," ",D.replace(/_/g,"-").toLowerCase()]}):(0,a.jsx)("span",{children:u.k.hiddenComment})]}),y&&!H&&y]});return(0,a.jsx)(c.A,{id:N,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",...I},"data-testid":m.Y.commentHeader,children:(0,a.jsxs)(c.A,{sx:{width:"100%",minWidth:0,minHeight:"var(--control-small-size, 28px)",justifyContent:"space-between",alignItems:"stretch",paddingBottom:y||L?0:"var(--base-size-6, 6px)",display:["grid","grid","flex","flex"],gridTemplateColumns:["auto 1fr auto auto auto auto","auto 1fr auto auto auto","",""],gridTemplateAreas:[` 'avatar     title   title   title     badges      actions'
              'avatar     footer  footer  footer    footer      edits'`,` 'avatar     title   edits     badges      actions'
              'avatar     footer  footer     footer       footer'`,"",""]},children:[(0,a.jsxs)(K,{...R,className:"sr-only",children:[t," commented"," ",(0,a.jsxs)(d.A,{date:U,children:["on ",U.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," "]})]}),(0,a.jsx)(c.A,{sx:{placeSelf:"center",gridArea:"avatar",display:L?"flex":["flex","flex","none","none"],marginRight:2},children:F}),(0,a.jsxs)(c.A,{"data-testid":m.Y.commentHeaderLeftSideItems,sx:{display:["contents","contents","flex","flex"],minWidth:0,gridColumnStart:"title",gridColumnEnd:"badges",flexWrap:"wrap",alignItems:"center",flexShrink:1,flexBasis:"auto",columnGap:"0.45ch",paddingTop:1,paddingBottom:1},children:[(0,a.jsx)(c.A,{sx:{gridArea:"title",marginTop:["0px","0px","0px","0px"],alignItems:"center",display:"flex",flexShrink:1,flexBasis:"auto",overflow:"hidden"},children:(0,a.jsx)(s.A,{"data-testid":m.Y.avatarLink,href:`/${"Bot"===T?"apps/":""}${t}`,"data-hovercard-url":(0,i.dCN)({owner:t}),sx:{fontSize:1,color:H?"fg.muted":"fg.default",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignSelf:"flex-end"},children:t})}),(0,a.jsx)(c.A,{sx:{gridArea:"footer",paddingBottom:["var(--base-size-8, 8px)","var(--base-size-8, 8px)","unset","unset"],fontSize:["var(--text-body-size-small, 12px)","var(--text-body-size-small, 12px)","var(--text-body-size-medium, 14px)","var(--text-body-size-medium, 14px)"],lineHeight:"1.4"},children:_})]}),(0,a.jsxs)(c.A,{"data-testid":m.Y.commentHeaderRightSideItems,sx:{display:["contents","contents","flex","flex"],whiteSpace:"nowrap",gridArea:"actions",columnGap:"var(--base-size-4, 4px)",justifyContent:"flex-end",flexShrink:2,flexGrow:1,alignItems:"flex-start"},children:[b&&(0,a.jsx)(c.A,{sx:{gridArea:"edits",display:"flex",justifyContent:"flex-end",overflow:"hidden",flexGrow:1,alignItems:["flex-start","center","center","center"],ml:2},children:b}),(0,a.jsxs)(c.A,{sx:{gridColumnStart:"badges",gridColumnEnd:"actions",display:"flex",columnGap:"var(--base-size-4, 4px)",alignItems:"center",justifyContent:"flex-end",minHeight:"var(--base-size-28, 28px)"},children:[(0,a.jsxs)(c.A,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",columnGap:"var(--base-size-8, 8px)",ml:1},children:["PENDING"===n.state&&(0,a.jsx)(p.C,{leadingElement:(0,a.jsx)(r.DotFillIcon,{}),label:"Pending",ariaLabel:"This review comment is pending",testId:"pending-badge",variant:"attention",sx:{mr:1}}),!H&&!l&&n.authorToRepoOwnerSponsorship&&n.authorToRepoOwnerSponsorship.isActive&&(0,a.jsx)(k,{createdAt:n.authorToRepoOwnerSponsorship.createdAt,owner:n.repository.owner.login,viewerDidAuthor:w}),!H&&!l&&n.showSpammyBadge&&(0,a.jsx)(f.b,{}),!n.repository.isPrivate&&!H&&!l&&(0,a.jsx)(h,{association:n.authorAssociation,viewerDidAuthor:w,org:n.repository.owner.login,repo:n.repository.name}),t===A&&(0,a.jsx)(x,{viewerDidAuthor:w,subjectType:E})]}),(0,a.jsx)(c.A,{sx:{display:"flex",columnGap:"var(--base-size-4, 4px)"},children:e})]})]})]})})}function j({avatarUrl:e,login:n,isHidden:t}){return(0,a.jsx)(l.r,{"data-hovercard-url":(0,i.dCN)({owner:n}),src:e,alt:`@${n}`,size:24,sx:{opacity:t?"0.5":"1"}})}try{b.displayName||(b.displayName="ActivityHeader")}catch{}try{j.displayName||(j.displayName="DefaultAvatar")}catch{}},23449:(e,n,t)=>{t.d(n,{p:()=>k});var a=t(74848),l=t(27756),i=t(36062),r=t(52952),o=t(97156),s=t(38621),d=t(87330),c=t(89323),u=t(80497),m=t(96540),p=t(46554),g=t(79828),y=t(45953),h=t(82513),x=t(85661),f=t(69117);function k({comment:e,commentAuthorLogin:n,editComment:t,onReplySelect:k,isMinimized:b=!1,navigate:j,onMinimize:C,hideComment:v,unhideComment:w,deleteComment:F,commentRef:A}){var E,S,K,R,T,N;let[L,I]=(0,m.useState)(!1),[D,H]=(0,m.useState)(null),[U,_]=(0,m.useState)(!1),[O,B]=(0,m.useState)(!1),[M,V]=(0,m.useState)(!1),[z,$]=(0,m.useState)(!1),G=(0,m.useCallback)(t=>`${t.replace(/^(?!>)/gm,"> ")} 

 _Originally posted by @${n} in [${e.referenceText}](${e.url})_`,[e.referenceText,n,e.url]),W=()=>{navigator.clipboard.writeText(e.url)},Q=!!e.pendingMinimizeReason||e.isHidden,q=(0,m.useMemo)(()=>Q&&!b&&e.viewerCanSeeMinimizeButton?(0,a.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"hide comment",variant:"invisible",onClick:()=>C?.(!0),icon:s.FoldIcon,size:"small"}):null,[Q,b,C,e.viewerCanSeeMinimizeButton]),P=(0,m.useMemo)(()=>Q&&b&&e.viewerCanSeeUnminimizeButton?(0,a.jsx)(d.K,{sx:{color:"fg.muted"},"aria-label":"show comment",variant:"invisible",onClick:()=>C?.(!1),icon:s.UnfoldIcon,size:"small"}):null,[Q,b,C,e.viewerCanSeeUnminimizeButton]),Y=(0,m.useMemo)(()=>{if(!e.author)return;let t=o.cg?.location.origin;if(!t)return;let a=`content_url=${encodeURIComponent(e.url)}&report=${n}+(user)`;return`${t}/contact/report-content?${a}`},[n,e.author,e.url]),Z=(e.viewerCanReport||e.viewerCanReportToMaintainer)&&e.author,J=(E=e.viewerCanBlockFromOrg,S=!!e.pendingBlock,K=!!e.pendingUnblock,!!e.author&&!S&&(!!K||E)),X=(R=e.viewerCanUnblockFromOrg,T=!!e.pendingBlock,N=!!e.pendingUnblock,!!e.author&&!N&&(!!T||R));return(0,a.jsxs)(a.Fragment,{children:[U&&(0,a.jsx)(i.or,{isCreateDialogOpen:U,setIsCreateDialogOpen:_,navigate:j,optionConfig:{defaultDisplayMode:r.q.IssueCreation,issueCreateArguments:{initialValues:{body:G(e.body)},repository:{name:e.repository.name,owner:e.repository.owner.login}}}}),O&&(0,a.jsx)(x._,{owner:e.repository.owner.login,ownerUrl:e.repository.owner.url,reportUrl:Y,contentId:e.id,onClose:()=>B(!1),contentType:"comment"}),M&&e.author&&(0,a.jsx)(y.r,{onClose:()=>V(!1),organization:e.repository.owner,contentId:e.id,contentAuthor:e.author,contentUrl:e.url}),z&&e.author&&(0,a.jsx)(f.o,{onClose:()=>$(!1),organization:e.repository.owner,contentAuthor:e.author,contentId:e.id}),q,P,(0,a.jsxs)(c.W,{open:L,onOpenChange:e=>{if(e){let e=window.getSelection();e&&e.anchorNode?H({anchorNode:e.anchorNode,range:e.getRangeAt(0)}):H(null)}I(e)},children:[(0,a.jsx)(c.W.Anchor,{"data-testid":p.Y.commentHeaderHamburger,children:(0,a.jsx)(d.K,{unsafeDisableTooltip:!0,size:"small",icon:s.KebabHorizontalIcon,variant:"invisible","aria-label":"Comment actions",sx:{color:"fg.muted"}})}),(0,a.jsx)(c.W.Overlay,{children:(0,a.jsxs)(u.l,{"data-testid":p.Y.commentHeaderHamburgerOpen,children:[(0,a.jsxs)(u.l.Item,{onSelect:()=>W(),children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.LinkIcon,{})}),"Copy link"]}),(0,l.M3)()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.l.Item,{onSelect:()=>{k((0,g.E)(A?.current,D,e.body))},children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.QuoteIcon,{})}),"Quote reply"]}),(0,a.jsx)(u.l.Divider,{}),(0,a.jsxs)(u.l.Item,{"data-testid":p.Y.commentMenuRefComment,sx:{width:"max-content"},onSelect:()=>_(!0),children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.IssueOpenedIcon,{})}),"Reference in a new issue"]})]}),(e.viewerCanUpdate||e.viewerCanMinimize||e.viewerCanDelete)&&(0,a.jsx)(u.l.Divider,{}),e.viewerCanUpdate&&(0,a.jsxs)(u.l.Item,{onSelect:()=>t(),children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.PencilIcon,{})}),"Edit"]}),e.viewerCanMinimize&&!Q&&(0,a.jsxs)(c.W,{children:[(0,a.jsx)(c.W.Anchor,{children:(0,a.jsxs)(u.l.Item,{children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.EyeClosedIcon,{})}),"Hide"]})}),(0,a.jsx)(c.W.Overlay,{children:(0,a.jsx)(u.l,{children:(0,a.jsx)(h.w,{onSelect:v,setMenuOpen:I})})})]}),e.viewerCanMinimize&&Q&&(0,a.jsxs)(u.l.Item,{onSelect:w,children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.EyeIcon,{})})," ","Unhide"]}),e.viewerCanDelete&&(0,a.jsxs)(u.l.Item,{variant:"danger",onSelect:F,children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.TrashIcon,{})}),"Delete"]}),Z&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.l.Divider,{}),e.viewerCanReportToMaintainer?(0,a.jsxs)(u.l.Item,{onSelect:()=>{B(!0)},children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.ReportIcon,{})}),"Report content"]}):(0,a.jsxs)(u.l.LinkItem,{href:Y,target:"_blank",children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.ReportIcon,{})}),"Report content"]})]}),(J||X)&&!Z&&(0,a.jsx)(u.l.Divider,{}),J&&(0,a.jsxs)(u.l.Item,{onSelect:()=>V(!0),children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.BlockedIcon,{})}),"Block user"]}),X&&(0,a.jsxs)(u.l.Item,{onSelect:()=>$(!0),children:[(0,a.jsx)(u.l.LeadingVisual,{children:(0,a.jsx)(s.BlockedIcon,{})}),"Unblock user"]})]})})]})]})}try{k.displayName||(k.displayName="CommentActions")}catch{}},93461:(e,n,t)=>{t.d(n,{Rt:()=>c});var a=t(74848),l=t(97564),i=t(65887),r=t(21741),o=t(8001),s=t(84568),d=t(23449);function c({hideActions:e,lazyFetchEditHistory:n=!1,...t}){let r;let o=(0,l.G7)("issues_react_avatar_refactor"),c=null;return n?o?(c=(0,a.jsx)(u,{id:t.comment.id}),r=(0,a.jsx)(m,{id:t.comment.id})):c=(0,a.jsx)(i.$N,{id:t.comment.id}):(c=(0,a.jsx)(i.WT,{editHistory:t.comment}),o&&(r=(0,a.jsx)(m,{id:t.comment.id}))),(0,a.jsx)(s.v,{lastEditedByMessage:r,editHistoryComponent:c,...t,actions:e?void 0:(0,a.jsx)(d.p,{...t})})}function u({id:e}){let n=(0,o.f)({id:e});return n?(0,a.jsx)(i.WT,{editHistory:n}):null}function m({id:e}){let n=(0,o.f)({id:e});return n?(0,a.jsx)(r._,{editInformation:n,includeSeparator:!0}):null}try{c.displayName||(c.displayName="CommentHeader")}catch{}try{u.displayName||(u.displayName="CommentHeaderEditHistory")}catch{}try{m.displayName||(m.displayName="CommentHeaderLastEditedBy")}catch{}},99940:(e,n,t)=>{t.d(n,{C:()=>o});var a=t(74848),l=t(54008),i=t(47139),r=t(96540);let o=({label:e,ariaLabel:n,testId:t,viewerDidAuthor:o,variant:s,leadingElement:d})=>{let c=r.useRef(null),[u,m]=(0,l.B)({contentRef:c,"aria-label":n});return(0,a.jsxs)(i.A,{variant:s||"secondary","data-testid":t,"aria-label":n,ref:c,sx:o?{borderColor:"accent.muted"}:{},...u,children:[d,e,m]})};try{o.displayName||(o.displayName="CommentHeaderBadge")}catch{}},68683:(e,n,t)=>{t.d(n,{b:()=>o});var a=t(74848),l=t(69730),i=t(46554),r=t(99940);let o=()=>(0,a.jsx)(r.C,{variant:"danger",ariaLabel:l.k.spammyBadgeTooltip,label:l.k.spammyBadge,testId:i.Y.spammyLabel});try{o.displayName||(o.displayName="SpammyBadge")}catch{}},45953:(e,n,t)=>{t.d(n,{r:()=>b});var a=t(74848),l=t(67726),i=t(16255),r=t(75177),o=t(89323),s=t(80497),d=t(2391),c=t(65607),u=t(52464),m=t(55847),p=t(91246),g=t(96540),y=t(18312),h=t(69487);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"BlockUserFromOrganizationPayload",kind:"LinkedField",name:"blockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"blockUserFromOrganizationMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"blockUserFromOrganizationMutation",selections:n},params:{id:"cc2dfdd4807633d71341d55e85bdcec5",metadata:{},name:"blockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();x.hash="1cc6b979024f82ac249a77676892c1f0";var f=t(82513);let k={ONE_DAY:"For 1 day",THREE_DAYS:"For 3 days",SEVEN_DAYS:"For 7 days",THIRTY_DAYS:"For 30 days",INDEFINITE:"Until I unblock them"},b=({onClose:e,...n})=>{let[t,l]=(0,g.useState)("INDEFINITE"),[m,y]=(0,g.useState)(!0),[h,x]=(0,g.useState)(!1),[b,w]=(0,g.useState)(void 0),F=n.contentAuthor.login;return(0,a.jsx)(i.Z,{children:(0,a.jsx)(p.l,{renderHeader:()=>(0,a.jsx)(C,{onClose:e,...n}),renderFooter:()=>(0,a.jsx)(v,{onClose:e,...n,notifyBlockedUser:m,hideComment:h,duration:t,hiddenReason:b}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:e,children:(0,a.jsxs)(r.A,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",gap:2},children:[(0,a.jsx)(r.A,{sx:{display:"flex",flexDirection:"row"},children:(0,a.jsx)("div",{children:(0,a.jsxs)("span",{children:["Blocking a user prevents them from interacting with repositories of this organization, such as opening or commenting on pull requests or issues. Learn more about"," ",(0,a.jsx)("a",{href:"https://docs.github.com/communities/maintaining-your-safety-on-github/blocking-a-user-from-your-organization",children:"blocking a user."})]})})}),(0,a.jsx)(r.A,{sx:{display:"flex",flexDirection:"row"},children:(0,a.jsxs)(o.W,{children:[(0,a.jsxs)(o.W.Button,{children:["Block a user: ",k[t]]}),(0,a.jsx)(o.W.Overlay,{children:(0,a.jsx)(s.l,{selectionVariant:"single",children:(0,a.jsxs)(s.l.Group,{children:[(0,a.jsx)(s.l.GroupHeading,{children:"Block options"}),Object.keys(k).map(e=>(0,a.jsx)(s.l.Item,{onSelect:()=>{l(e)},selected:e===t,children:k[e]},e))]})})})]})}),(0,a.jsx)(j,{}),(0,a.jsx)("h4",{children:"More options"}),(0,a.jsxs)(d.A,{sx:{mt:1},children:[(0,a.jsx)(c.A,{checked:m,onChange:()=>y(!m),"aria-checked":m}),(0,a.jsx)(d.A.Label,{children:"Send user a notification and show activity in timeline"}),(0,a.jsx)(d.A.Caption,{children:(0,a.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["You can notify ",(0,a.jsx)("b",{children:F})," as to why they're being blocked. A public timeline entry will show that this user was blocked. They will receive an email notification and a notice when they try to comment with the following message:",(0,a.jsx)(r.A,{sx:{mt:1,ml:2},children:(0,a.jsxs)("blockquote",{children:["A maintainer of the @",n.organization.login," organization has blocked you because of"," ",(0,a.jsx)("a",{href:n.contentUrl,children:"this content"}),". For more information please see"," ",(0,a.jsx)("a",{href:"https://docs.github.com/site-policy/github-terms/github-community-guidelines",children:"the community guidelines"}),"."]})})]})})]}),(0,a.jsxs)(d.A,{children:[(0,a.jsx)(c.A,{checked:h,onChange:()=>x(!h),"aria-checked":h}),(0,a.jsx)(d.A.Label,{children:"Hide this user's comments"}),(0,a.jsx)(d.A.Caption,{children:(0,a.jsxs)(u.A,{sx:{color:"fg.subtle",fontSize:12},children:["All of their comments in this organization"," ",(0,a.jsx)("a",{href:"https://docs.github.com/communities/moderating-comments-and-conversations/managing-disruptive-comments#hiding-a-comment",children:"will be hidden"})," ","to all users and will display a reason."]})})]}),(0,a.jsx)(r.A,{sx:{ml:4},children:(0,a.jsxs)(o.W,{children:[(0,a.jsx)(o.W.Button,{children:(b&&f.n[b])??"Choose a reason"}),(0,a.jsx)(o.W.Overlay,{children:(0,a.jsx)(s.l,{selectionVariant:"single",children:(0,a.jsx)(f.w,{onSelect:w})})})]})})]})})})},j=()=>(0,a.jsx)(r.A,{sx:{height:"1px",backgroundColor:"fg.subtle",margin:"8px 0"}}),C=({contentAuthor:e,organization:n,onClose:t})=>(0,a.jsx)(p.l.Header,{children:(0,a.jsxs)(r.A,{sx:{display:"flex"},children:[(0,a.jsx)(r.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,a.jsxs)(p.l.Title,{children:["Block ",e.login," from ",n.login]})}),(0,a.jsx)(p.l.CloseButton,{onClose:t})]})}),v=({organization:e,contentAuthor:n,contentId:t,notifyBlockedUser:i,hideComment:r,duration:o,hiddenReason:s,onClose:d})=>{let c=(0,y.useRelayEnvironment)(),u=(0,g.useCallback)(()=>{!function({environment:e,input:{organizationId:n,blockedUserId:t,duration:a,notifyBlockedUser:l,hiddenReason:i,contentId:r},onError:o,onCompleted:s}){let d={organizationId:n,blockedUserId:t,duration:a,notifyBlockedUser:l,contentId:r};i&&(d={...d,hiddenReason:i}),(0,y.commitMutation)(e,{mutation:x,variables:{input:d},onError:e=>o&&o(e),onCompleted:()=>{s?.()}})}({environment:c,input:{organizationId:e.id,contentId:t,blockedUserId:n.id,duration:o,hiddenReason:r&&s?s:void 0,notifyBlockedUser:i},onError:l.l,onCompleted:()=>(0,h.commitLocalUpdate)(c,e=>{let n=e.get(t);n?.setValue(!1,"pendingUnblock"),n?.setValue(!0,"pendingBlock"),s&&n?.setValue(s,"pendingMinimizeReason")})}),d()},[c,e.id,t,n.id,o,r,s,i,d]);return(0,a.jsx)(p.l.Footer,{children:(0,a.jsx)(m.Q,{sx:{width:"100%"},variant:"danger",disabled:r&&!s,onClick:u,children:"Block user from organization"})})};try{b.displayName||(b.displayName="BlockUserFromOrgDialog")}catch{}try{j.displayName||(j.displayName="DialogDivider")}catch{}try{C.displayName||(C.displayName="BlockUserFromOrgDialogHeader")}catch{}try{v.displayName||(v.displayName="BlockUserFromOrgDialogFooter")}catch{}},82513:(e,n,t)=>{t.d(n,{n:()=>i,w:()=>r});var a=t(74848),l=t(80497);let i={SPAM:"Spam",ABUSE:"Abuse",OFF_TOPIC:"Off-topic",OUTDATED:"Outdated",DUPLICATE:"Duplicate",RESOLVED:"Resolved"},r=({setMenuOpen:e,onSelect:n})=>(0,a.jsx)(a.Fragment,{children:Object.keys(i).map(t=>(0,a.jsx)(l.l.Item,{"aria-label":`Hide comment as ${i[t]}`,onSelect:()=>{n(t),e?.(!1)},children:i[t]},t))});try{r.displayName||(r.displayName="HideCommentActionItems")}catch{}},85661:(e,n,t)=>{t.d(n,{_:()=>f});var a=t(74848),l=t(54156),i=t(75177),r=t(34614),o=t(89323),s=t(80497),d=t(55847),c=t(16255),u=t(89015),m=t(2391),p=t(23813),g=t(91246),y=t(96540),h=t(18312);let x=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"SubmitAbuseReportPayload",kind:"LinkedField",name:"submitAbuseReport",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"submitAbuseReportMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"submitAbuseReportMutation",selections:n},params:{id:"0603fe0f6dabc68adea31e484c57deb7",metadata:{},name:"submitAbuseReportMutation",operationKind:"mutation",text:null}}}();x.hash="8b252221b8eab001809aa2a2d583cb84";let f=({owner:e,ownerUrl:n,reportUrl:t,contentId:f,onClose:k,contentType:b="content"})=>{let j=(0,h.useRelayEnvironment)(),{addToast:C}=(0,l.Y6)(),[v,w]=(0,y.useState)("Choose a reason"),[F,A]=(0,y.useState)(!1),[E,S]=(0,y.useState)("admins"),K=(0,y.useCallback)(()=>{A(!0),function({environment:e,input:{reportedContentId:n,reason:t},onError:a,onCompleted:l}){(0,h.commitMutation)(e,{mutation:x,variables:{input:{reportedContent:n,reason:t}},onError:e=>a&&a(e),onCompleted:()=>l&&l()})}({environment:j,input:{reportedContentId:f,reason:"Choose a reason"===v?"UNSPECIFIED":v},onError(e){C({type:"error",message:`Unable to submit report: ${e}`}),A(!1)},onCompleted(){C({type:"success",message:"Report submitted"}),A(!1),k()}})},[C,f,j,k,v]),R=(0,a.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:[(0,a.jsxs)("span",{children:["This ",b," violates "]}),(0,a.jsx)(r.A,{href:n,children:`@${e}'s `}),(0,a.jsx)("span",{children:"Code of Conduct and should be submitted to the maintainers of this repository for review."})]}),(0,a.jsx)("p",{children:"This report, as well as your username as the reporter, will be viewable by all admins of this repository."}),(0,a.jsxs)("p",{children:["Choose a reason for reporting this ",b]})]}),(0,a.jsx)(i.A,{sx:{marginTop:"8px",marginBottom:"16px"},children:(0,a.jsxs)(o.W,{children:[(0,a.jsx)(o.W.Button,{children:v}),(0,a.jsx)(o.W.Overlay,{children:(0,a.jsxs)(s.l,{children:[(0,a.jsx)(s.l.Item,{onSelect:()=>w("ABUSE"),children:"Abuse"}),(0,a.jsx)(s.l.Item,{onSelect:()=>w("SPAM"),children:"Spam"}),(0,a.jsx)(s.l.Item,{onSelect:()=>w("OFF_TOPIC"),children:"Off Topic"})]})})]})}),(0,a.jsxs)(i.A,{sx:{marginTop:"8px"},children:[(0,a.jsxs)(i.A,{sx:{fontSize:"12px",color:"fg.muted"},children:[(0,a.jsx)("span",{children:"Learn more about "}),(0,a.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"requesting that maintainers moderate content."})]}),(0,a.jsx)(d.Q,{sx:{marginTop:"30px",width:"100%"},variant:"danger",onClick:()=>K(),disabled:F,children:"Report to repository admins"})]})]}),T=(0,a.jsxs)(i.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,a.jsx)("span",{children:"Contact GitHub Support about this user's spammy or abusive behavior."}),(0,a.jsxs)(i.A,{sx:{marginTop:"12px"},children:[(0,a.jsxs)(i.A,{sx:{marginTop:"auto",fontSize:"12px",color:"fg.muted"},children:[(0,a.jsx)("span",{children:"Learn more about "}),(0,a.jsx)(r.A,{href:"https://docs.github.com/articles/reporting-abuse-or-spam",children:"reporting abuse to GitHub support"})]}),(0,a.jsx)(d.Q,{sx:{width:"100%",marginTop:"30px"},variant:"danger",as:"a",href:t,disabled:F,children:"Report abuse to GitHub support"})]})]});return(0,a.jsx)(c.Z,{children:(0,a.jsx)(g.l,{renderHeader:()=>(0,a.jsx)(g.l.Header,{children:(0,a.jsxs)(i.A,{sx:{display:"flex"},children:[(0,a.jsx)(i.A,{sx:{display:"flex",flexDirection:"column",flexGrow:1,px:2,py:"6px"},children:(0,a.jsxs)(g.l.Title,{children:["Report ",b]})}),(0,a.jsx)(g.l.CloseButton,{onClose:k})]})}),sx:{width:"100%",margin:4,maxWidth:"640px",maxHeight:"clamp(315px, 80vh, 800px)"},width:"xlarge",height:"auto",onClose:k,children:(0,a.jsxs)(i.A,{sx:{gap:3,display:"grid"},children:[(0,a.jsxs)(u.A,{name:"choiceGroup",onChange:e=>{S(e)},children:[(0,a.jsxs)(u.A.Label,{sx:{fontWeight:"bold",fontSize:"14px",mb:"4px"},children:["Where would you like to report this ",b," to?"]}),(0,a.jsxs)(m.A,{children:[(0,a.jsx)(p.A,{value:"admins",defaultChecked:!0}),(0,a.jsx)(m.A.Label,{children:"To repository admins"})]}),(0,a.jsxs)(m.A,{children:[(0,a.jsx)(p.A,{value:"support"}),(0,a.jsx)(m.A.Label,{children:"To GitHub support"})]})]}),"admins"===E&&R,"support"===E&&T]})})})};try{f.displayName||(f.displayName="ReportContentDialog")}catch{}},69117:(e,n,t)=>{t.d(n,{o:()=>d});var a=t(74848),l=t(53526),i=t(96540),r=t(18312),o=t(69487);let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{alias:null,args:[{kind:"Variable",name:"input",variableName:"input"}],concreteType:"UnblockUserFromOrganizationPayload",kind:"LinkedField",name:"unblockUserFromOrganization",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"clientMutationId",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"unblockUserFromOrganizationMutation",selections:n,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"unblockUserFromOrganizationMutation",selections:n},params:{id:"3bb2b18124f6d9e474f1e4d67f4d648c",metadata:{},name:"unblockUserFromOrganizationMutation",operationKind:"mutation",text:null}}}();s.hash="05b84828fae0f7858c1ccd7347bfbb3e";let d=({contentAuthor:e,organization:n,onClose:t,contentId:d})=>{let c=(0,r.useRelayEnvironment)(),u=(0,i.useCallback)(a=>{"confirm"===a&&function({environment:e,input:{organizationId:n,unblockedUserId:t},onError:a,onCompleted:l}){(0,r.commitMutation)(e,{mutation:s,variables:{input:{organizationId:n,unblockedUserId:t}},onError:e=>a&&a(e),onCompleted:()=>{l?.()}})}({environment:c,input:{unblockedUserId:e.id,organizationId:n.id},onCompleted:()=>(0,o.commitLocalUpdate)(c,e=>{let n=e.get(d);n?.setValue(!0,"pendingUnblock"),n?.setValue(!1,"pendingBlock")})}),t()},[t,c,e.id,n.id,d]);return(0,a.jsxs)(l.K,{title:`Unblock ${e.login} from ${n.login}`,confirmButtonContent:"Unblock user",confirmButtonType:"danger",onClose:u,children:["Are you sure you want to unblock ",(0,a.jsx)("strong",{children:e.login})," from ",(0,a.jsx)("strong",{children:n.login}),"?"]})};try{d.displayName||(d.displayName="UnblockUserFromOrgDialog")}catch{}},65887:(e,n,t)=>{t.d(n,{WT:()=>q,$N:()=>Q});var a=t(74848);let l=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"includesCreatedEdit",storageKey:null},a=[{kind:"Literal",name:"first",value:100}],l={alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[t,{alias:null,args:a,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[l,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[s,d],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{kind:"InlineFragment",selections:[t,{alias:null,args:a,concreteType:"UserContentEditConnection",kind:"LinkedField",name:"userContentEdits",plural:!1,selections:[l,{alias:null,args:null,concreteType:"UserContentEditEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"node",plural:!1,selections:[i,r,o,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[c,s,d,i],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:"userContentEdits(first:100)"}],type:"Comment",abstractKey:"__isComment"},i],storageKey:null}]},params:{id:"c6113eea560ba83b319c9b30fc5d4f7e",metadata:{},name:"MarkdownEditHistoryViewerQuery",operationKind:"query",text:null}}}();l.hash="58ea81646b217a25de6cfe147936e7f6";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewerLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"MarkdownEditHistoryViewer_comment"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MarkdownEditHistoryViewerLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},a],storageKey:null},a],storageKey:null}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"735fac658f2c5f397120b8f033e85bf6",metadata:{},name:"MarkdownEditHistoryViewerLazyQuery",operationKind:"query",text:null}}}();i.hash="41612fc88b9d8d4e416e052c5496f616";let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownEditHistoryViewer_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lastEditedAt",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};r.hash="973ba3703044303cb07c5e93e3f5b2db";var o=t(97564),s=t(22868),d=t(27719),c=t(92979),u=t(75177),m=t(52464),p=t(34614),g=t(89323),y=t(80497),h=t(89169),x=t(47139),f=t(96540),k=t(18312),b=t(39381);let j={couldNotDeleteEditRevision:"Failed to delete this revision",couldNotLoad:"Couldn't load"},C=({retry:e})=>(0,a.jsx)(b.h,{message:j.couldNotLoad,retry:e,sx:{p:4}});try{C.displayName||(C.displayName="CouldNotFindFallbackError")}catch{}let v=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"diffBefore",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[t,a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[i],storageKey:null},{args:null,kind:"FragmentSpread",name:"EditHistoryDialogHeaderFragment"}],type:"UserContentEdit",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"EditHistoryDialogQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[r,{kind:"InlineFragment",selections:[t,a,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[r,i,o],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[r,{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},i,o],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null},o],storageKey:null}]},params:{id:"95112ed4d46018d629c28241b711a389",metadata:{},name:"EditHistoryDialogQuery",operationKind:"query",text:null}}}();v.hash="468f60acb1c6c8a75787e70fe36979a9";var w=t(91246),F=t(7793);let A={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"EditHistoryDialogHeaderFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"editedAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"newest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"firstEdit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerCanDelete",storageKey:null}],type:"UserContentEdit",abstractKey:null};A.hash="173b0fbf2e248d6057ccd670ace2eea7";var E=t(54156),S=t(38621),K=t(53526),R=t(55847),T=t(30729);let N={deleteEditRevision:"Delete revision"},L={ghostUserLogin:"ghost"},I=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"deletedAt",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"avatarUrl",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"diff",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[t,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[l,i],storageKey:null},r],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"deleteUserContentEditMutation",selections:[{alias:null,args:n,concreteType:"DeleteUserContentEditPayload",kind:"LinkedField",name:"deleteUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"userContentEdit",plural:!1,selections:[t,a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"deletedBy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l,i,t],storageKey:null},r],storageKey:null}],storageKey:null}]},params:{id:"71452b9f40a7828ac05811d1ad4f821e",metadata:{},name:"deleteUserContentEditMutation",operationKind:"mutation",text:null}}}();I.hash="45e1f3e7d425560f65ef39e8c357794d";let D=({queryRef:e,userContentEditId:n})=>{let t=(0,k.useFragment)(A,e),l=(0,k.useRelayEnvironment)(),i=(0,K.S)(),{addToast:r}=(0,E.Y6)(),o=(0,f.useCallback)(async()=>{await i({title:F.k.confirmations.deleteEditHistoryTitle,content:F.k.confirmations.deleteEditHistoryContent,confirmButtonType:"danger",confirmButtonContent:F.k.confirmations.deleteEditHistoryConfirmButtonContent})&&function({environment:e,input:{id:n},onCompleted:t,onError:a}){(0,k.commitMutation)(e,{mutation:I,variables:{input:{id:n}},onCompleted:e=>{null===e.deleteUserContentEdit?a?.():t?.()},onError:e=>a?.(e)})}({environment:l,input:{id:n},onError:()=>{r({type:"error",message:j.couldNotDeleteEditRevision})}})},[r,i,l,n]),s=t.newest||t.deletedAt;return(0,a.jsxs)(u.A,{sx:{display:"flex",flexDirection:"row",position:"sticky",top:0,backgroundColor:"canvas.subtle",p:3,borderBottom:"1px solid",borderColor:"border.muted"},children:[t.editor&&(0,a.jsx)(H,{login:t.editor.login,avatarUrl:t.editor.avatarUrl,time:t.editedAt,details:t.firstEdit?F.k.editHistory.created:F.k.editHistory.edited,trailingElement:s?(0,a.jsx)(x.A,{sx:{ml:1},children:t.deletedAt?F.k.editHistory.deleted:F.k.editHistory.mostRecent}):void 0}),t.viewerCanDelete&&!t.newest&&!t.deletedAt&&(0,a.jsxs)(R.Q,{sx:{marginLeft:"auto"},variant:"danger",size:"small","aria-label":F.k.editHistory.deleteRevisionAriaLabel,onClick:o,children:[(0,a.jsx)(T.A,{icon:S.TrashIcon})," ",N.deleteEditRevision]})]})};function H({login:e,avatarUrl:n,details:t,time:l,sx:i,trailingElement:r}){let o=!!n&&!!e;return(0,a.jsxs)(u.A,{sx:{display:"flex",flexDirection:"row",gap:1,alignItems:"center"},children:[(0,a.jsxs)(u.A,{sx:{...i},children:[o&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.r,{src:n,size:16,alt:`@${e}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))",mr:1}}),(0,a.jsx)(m.A,{sx:{fontWeight:"bold"},children:e})]}),!o&&(0,a.jsx)("span",{children:e??L.ghostUserLogin}),(0,a.jsxs)("span",{children:[" ",t," "]}),l&&(0,a.jsx)(h.A,{date:new Date(l)})]}),r]})}try{D.displayName||(D.displayName="EditHistoryDialogHeader")}catch{}try{H.displayName||(H.displayName="ActorOperationDetails")}catch{}let U=e=>e.split(/\r?\n/),_=e=>e.split(/\s+/),O=e=>{let n="3px solid";switch(e){case"ADDED":return{borderLeft:n,borderColor:"var(--borderColor-success-emphasis, var(--color-success-fg))"};case"REMOVED":return{borderLeft:n,borderColor:"var(--borderColor-danger-emphasis, var(--color-danger-fg))"};case"EDITED":return{borderLeft:n,borderColor:"var(--borderColor-severe-emphasis, var(--color-severe-fg))"};case"UNCHANGED":return{}}},B=e=>{switch(e){case"ADDED":return{backgroundColor:"var(--diffBlob-additionWord-bgColor, var(--diffBlob-addition-bgColor-word))",color:"var(--diffBlob-additionWord-fgColor, var(--diffBlob-addition-fgColor-text))"};case"REMOVED":return{backgroundColor:"var(--diffBlob-deletionWord-bgColor, var(--diffBlob-deletion-bgColor-word))",color:"var(--diffBlob-deletionWord-fgColor, var(--diffBlob-deletion-fgColor-text))",textDecoration:"line-through"};case"UNCHANGED":return{}}},M=({words:e,modification:n})=>(0,a.jsxs)(u.A,{as:"span",sx:{pl:2},children:["EDITED"===n&&e.map((n,t)=>(0,a.jsxs)(m.A,{sx:{...B(n.modification)},children:[n.word,t===e.length-1?"":" "]},t)),"EDITED"!==n&&e.length>0&&(0,a.jsx)("span",{children:e.map(e=>e.word).join(" ")}),0===e.length&&(0,a.jsx)("br",{})]}),V=({before:e,after:n})=>{let t=function({before:e,after:n}){let t=e?U(e):[],a=n?U(n):[],l=[];for(let e=0;e<t.length||e<a.length;e++){let n=t[e],i=a[e];l.push(function(e,n){let t=e?_(e):[],a=n?_(n):[];if(0===t.length&&0===a.length||e===n)return{words:a.map(e=>({word:e,modification:"UNCHANGED"})),modification:"UNCHANGED"};if(0===t.length)return{words:a.map(e=>({word:e,modification:"ADDED"})),modification:"ADDED"};if(0===a.length)return{words:t.map(e=>({word:e,modification:"REMOVED"})),modification:"REMOVED"};let l=[];for(let e=0;e<t.length||e<a.length;e++){let n=t[e],i=a[e];n===i?l.push({word:n,modification:"UNCHANGED"}):(void 0!==n&&l.push({word:n,modification:"REMOVED"}),void 0!==i&&l.push({word:i,modification:"ADDED"}))}return{words:l,modification:"EDITED"}}(n,i))}return{lines:l}}({before:e,after:n});return(0,a.jsx)(u.A,{sx:{display:"flex",flexDirection:"column",overflow:"auto",gap:1},children:t.lines.map((e,n)=>(0,a.jsx)(u.A,{sx:{...O(e.modification),flexDirection:"row"},children:(0,a.jsx)(M,{...e})},n))})};try{M.displayName||(M.displayName="LineDiffViewer")}catch{}try{V.displayName||(V.displayName="TextDiffViewer")}catch{}let z=({userContentEditId:e,onClose:n})=>(0,a.jsx)(w.l,{renderBody:()=>(0,a.jsx)($,{userContentEditId:e}),onClose:n,title:F.k.editHistory.viewingEditTitle,width:"xlarge",height:"auto",sx:{width:"100%",margin:4,maxWidth:"800px",maxHeight:"clamp(300px, 80vh, 800px)"}}),$=({userContentEditId:e})=>{let[n,t]=(0,k.useQueryLoader)(v);return((0,f.useEffect)(()=>{t({id:e})},[t,e]),n)?(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(W,{}),children:(0,a.jsx)(d.A,{onRetry:()=>t({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,a.jsx)(C,{retry:e}),children:(0,a.jsx)(G,{queryRef:n,userContentEditId:e})})}):(0,a.jsx)(W,{})},G=({queryRef:e,userContentEditId:n})=>{let t=(0,k.usePreloadedQuery)(v,e).node;if(!t)return(0,a.jsx)(W,{});let l=!t.diffBefore&&!t.diff;return(0,a.jsxs)(u.A,{sx:{overflowY:"auto"},children:[(0,a.jsx)(D,{queryRef:t,userContentEditId:n}),(0,a.jsxs)(u.A,{sx:{p:3},children:[!t.deletedAt&&!l&&(0,a.jsx)(V,{before:t.diffBefore??void 0,after:t.diff??void 0}),!t.deletedAt&&l&&(0,a.jsx)(m.A,{sx:{color:"fg.muted",fontStyle:"italic"},children:F.k.editHistory.emptyEdit}),t.deletedAt&&(0,a.jsx)(H,{login:t.deletedBy?.login,details:F.k.editHistory.deletedThisRevision,time:t.deletedAt,sx:{color:"fg.muted",fontStyle:"italic"}})]})]})};function W(){return(0,a.jsxs)(u.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"})]})}try{z.displayName||(z.displayName="EditHistoryDialog")}catch{}try{$.displayName||($.displayName="EditContent")}catch{}try{G.displayName||(G.displayName="EditContentInternal")}catch{}try{W.displayName||(W.displayName="EditContentLoading")}catch{}function Q({id:e}){let n=(0,k.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return n.node?(0,a.jsx)(q,{editHistory:n.node}):null}function q({editHistory:e}){let n=(0,k.useFragment)(r,e),[t,l]=(0,f.useState)(!1),[i,s]=(0,f.useState)("");if(!n||!n.viewerCanReadUserContentEdits||!n.lastEditedAt)return null;let d=n.lastUserContentEdit?.editor,c=(0,o.G7)("issues_react_avatar_refactor");return(0,a.jsxs)(u.A,{sx:{display:"flex"},children:[d&&!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.A,{sx:{color:"fg.muted",fontSize:0,mr:2},children:[`${F.k.editHistory.editedBy} `,(0,a.jsx)(p.A,{sx:{color:"fg.muted",fontSize:0},href:d.url,children:d.login})]}),(0,a.jsx)(m.A,{sx:{color:"fg.muted",fontSize:0,mr:1},children:"\xb7"})]}),(0,a.jsxs)(g.W,{children:[(0,a.jsx)(g.W.Button,{sx:{color:"fg.muted"},variant:"invisible",size:"small","aria-label":F.k.editHistory.ariaLabel,children:F.k.editHistory.openEditsButton}),(0,a.jsx)(g.W.Overlay,{width:"auto",children:(0,a.jsx)(P,{setIsEditHistoryDialogOpen:l,setSelectedId:s,editHistoryId:n.id,lastEditedAt:n.lastEditedAt})})]}),t&&(0,a.jsx)(z,{onClose:()=>l(!1),userContentEditId:i})]})}let P=({editHistoryId:e,lastEditedAt:n,...t})=>{let[i,r]=(0,k.useQueryLoader)(l);return((0,f.useEffect)(()=>{r({id:e},{fetchPolicy:"network-only"})},[e,r,n]),i)?(0,a.jsx)(f.Suspense,{fallback:(0,a.jsx)(Z,{}),children:(0,a.jsx)(d.A,{onRetry:()=>r({id:e},{fetchPolicy:"network-only"}),fallback:e=>(0,a.jsx)(C,{retry:e}),children:(0,a.jsx)(Y,{queryRef:i,...t})})}):(0,a.jsx)(Z,{})},Y=({setIsEditHistoryDialogOpen:e,setSelectedId:n,queryRef:t})=>{let i=(0,k.usePreloadedQuery)(l,t);if(!i.node?.userContentEdits)return(0,a.jsx)(Z,{});let r=i.node.userContentEdits.totalCount;return(0,a.jsx)(y.l,{sx:{maxHeight:"clamp(200px, 30vh, 320px)",overflow:"auto",width:"max-content"},children:(0,a.jsxs)(y.l.Group,{children:[(0,a.jsx)(y.l.GroupHeading,{children:`Edited ${r-1} time${r>2?"s":""}`}),i.node.userContentEdits.edges?.map((t,l)=>{let o=t?.node;if(!o?.editor)return null;let d=i.node?.includesCreatedEdit&&l===r-1;return a.jsxs(y.l.Item,{onSelect:()=>{n(o.id),e(!0)},children:[a.jsx(y.l.LeadingVisual,{children:a.jsx(s.r,{src:o.editor.avatarUrl,size:16,alt:`@${o.editor.login}`,sx:{boxShadow:"0 0 0 2px var(--bgColor-muted, var(--color-canvas-subtle))"}})}),a.jsx(m.A,{sx:{fontWeight:"normal"},children:o.editor.login}),a.jsxs(y.l.Description,{sx:{ml:1,display:"flex",flexDirection:"row",gap:"3px"},truncate:!0,children:[d&&a.jsx("div",{title:"",children:F.k.editHistory.created}),a.jsx(h.A,{date:new Date(o.editedAt)})]}),(0===l||o.deletedAt)&&a.jsx(y.l.TrailingVisual,{children:a.jsx(x.A,{children:0===l?F.k.editHistory.mostRecent:F.k.editHistory.deleted})})]},o.id)})]})})};function Z(){return(0,a.jsxs)(u.A,{sx:{m:2,display:"flex",flexDirection:"column",gap:2,minWidth:"256px"},children:[(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"}),(0,a.jsx)(c.O,{variant:"rounded",height:"md",width:"100%"})]})}try{Q.displayName||(Q.displayName="MarkdownEditHistoryViewerQueryComponent")}catch{}try{q.displayName||(q.displayName="MarkdownEditHistoryViewer")}catch{}try{P.displayName||(P.displayName="EditHistoryActionMenuContent")}catch{}try{Y.displayName||(Y.displayName="EditHistoryActionMenuContentInternal")}catch{}try{Z.displayName||(Z.displayName="EditHistoryLoading")}catch{}},21741:(e,n,t)=>{t.d(n,{_:()=>d});var a=t(74848);let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MarkdownLastEditedBy",selections:[{alias:null,args:null,kind:"ScalarField",name:"viewerCanReadUserContentEdits",storageKey:null},{alias:null,args:null,concreteType:"UserContentEdit",kind:"LinkedField",name:"lastUserContentEdit",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"editor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:"__isComment"};l.hash="bbab0cb2d43eeaaa0ed5b010868ec7f4";var i=t(34614),r=t(18312),o=t(7793);let s={container:"MarkdownLastEditedBy-module__container--fKxHN"};function d({editInformation:e,includeSeparator:n,forceUnderline:t}){let d=(0,r.useFragment)(l,e);if(!d||!d.viewerCanReadUserContentEdits||!d.lastUserContentEdit||!d.lastUserContentEdit.editor)return null;let{login:c,url:u}=d.lastUserContentEdit.editor;return(0,a.jsxs)("span",{className:s.container,children:[n&&(0,a.jsx)("span",{children:" \xb7 "}),(0,a.jsxs)("span",{children:[`${o.k.editHistory.editedBy} `,(0,a.jsx)(i.A,{sx:{color:"fg.muted"},href:u,inline:t,children:c})]})]})}try{d.displayName||(d.displayName="MarkdownLastEditedBy")}catch{}},29852:(e,n,t)=>{t.r(n),t.d(n,{ReactionViewerRelay:()=>j,ReactionViewerRelayQueryComponent:()=>C,default:()=>v});var a=t(74848);let l=function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ReactionViewerRelayGroups",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[{kind:"InlineFragment",selections:e,type:"User",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:e,type:"Mannequin",abstractKey:null}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}}();l.hash="683f509bd79d5a4206eb49d13f947374";let i=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],n=[{kind:"Variable",name:"id",variableName:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ReactionViewerRelayLazyQuery",selections:[{alias:null,args:n,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[t,a,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:l,type:"User",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:l,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null}],type:"Reactable",abstractKey:"__isReactable"}],type:"Comment",abstractKey:"__isComment"}],storageKey:null}]},params:{id:"d284cb78e50ac8ee8a082f7850e0f1de",metadata:{},name:"ReactionViewerRelayLazyQuery",operationKind:"query",text:null}}}();i.hash="95899d766fa2c1bc2ea04b604e3db421";var r=t(96540),o=t(18312);let s=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"addReactionMutation",selections:[{alias:null,args:n,concreteType:"AddReactionPayload",kind:"LinkedField",name:"addReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[t,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},l],storageKey:null}],storageKey:null}]},params:{id:"3654a2fd2d4535d6fdbb8be8a477a510",metadata:{},name:"addReactionMutation",operationKind:"mutation",text:null}}}();s.hash="504ef43df20e9ee96a023f421682e18d";let d=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],n=[{kind:"Variable",name:"input",variableName:"input"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a=[{alias:null,args:null,kind:"ScalarField",name:"login",storageKey:null}],l={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"ReactionViewerRelayGroups"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"removeReactionMutation",selections:[{alias:null,args:n,concreteType:"RemoveReactionPayload",kind:"LinkedField",name:"removeReaction",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"subject",plural:!1,selections:[t,{kind:"TypeDiscriminator",abstractKey:"__isReactable"},{alias:null,args:null,concreteType:"ReactionGroup",kind:"LinkedField",name:"reactionGroups",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewerHasReacted",storageKey:null},{alias:null,args:[{kind:"Literal",name:"first",value:5}],concreteType:"ReactorConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"totalCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{kind:"InlineFragment",selections:a,type:"User",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Bot",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Organization",abstractKey:null},{kind:"InlineFragment",selections:a,type:"Mannequin",abstractKey:null},{kind:"InlineFragment",selections:[l],type:"Node",abstractKey:"__isNode"}],storageKey:null}],storageKey:"reactors(first:5)"}],storageKey:null},l],storageKey:null}],storageKey:null}]},params:{id:"7d1ddf2cc4ed2ddb612c4ba7d9ea4f28",metadata:{},name:"removeReactionMutation",operationKind:"mutation",text:null}}}();d.hash="8e28d0138da52c07bb0e64eda432f580";var c=t(69676),u=t(82678),m=t(85349),p=t(80497),g=t(55847),y=t(94977),h=t(7699);function x({reactionGroup:e,disabled:n,onReact:t}){let{content:l,viewerHasReacted:i}=e.reaction,{reactors:r,totalCount:o}=e;if(0===o)return null;let s=r.flatMap(e=>"Other"!==e.typeName?[e.login]:[]),d=(0,h.fj)(l,i,s,o);return(0,a.jsx)(y.A,{"aria-label":(0,h.Js)(s,o),sx:{maxWidth:"100%"},wrap:!0,direction:"ne",align:"left",children:(0,a.jsx)(g.Q,{size:"small",sx:{"&:hover:not([disabled])":{backgroundColor:"accent.muted"},backgroundColor:i?"accent.subtle":"transparent",borderColor:i?"accent.emphasis":"border.default",borderRadius:100,px:2,boxShadow:"none"},"aria-label":d,role:"switch","aria-checked":i,leadingVisual:()=>(0,a.jsx)(a.Fragment,{children:h.qG[l]}),onClick:()=>t(l,i),disabled:n,children:o})})}try{x.displayName||(x.displayName="ReactionButton")}catch{}function f({onReact:e,reaction:n}){let{content:t,viewerHasReacted:l}=n;return(0,a.jsx)(p.l.Item,{sx:{"&:hover":{backgroundColor:"accent.emphasis"},py:1,px:2,m:0,backgroundColor:l?"accent.subtle":"transparent"},role:"menuitemcheckbox","aria-checked":l,onSelect:()=>e(t,l),children:h.qG[t]},t)}try{f.displayName||(f.displayName="ReactionsMenuItem")}catch{}var k=t(73881);function b({reactionGroups:e,canReact:n=!0,onReact:t}){let[l,i]=(0,r.useState)(!1),o=e.length>0,{containerRef:s}=(0,u.G)({bindKeys:c.z0.HomeAndEnd|c.z0.ArrowHorizontal,focusOutBehavior:"wrap"});return(0,a.jsxs)("div",{role:"toolbar","aria-label":"Reactions",ref:s,className:"d-flex gap-1 flex-wrap",children:[n&&(0,a.jsx)(m.T,{open:l,onOpen:()=>i(o),onClose:()=>i(!1),anchorRef:s,focusZoneSettings:{bindKeys:c.z0.ArrowAll|c.z0.HomeAndEnd,focusOutBehavior:"wrap"},renderAnchor:e=>(0,a.jsx)(k.N,{renderAnchorProps:e,reactionsAvailable:o}),children:(0,a.jsx)(p.l,{className:"d-flex flex-row p-1 gap-1",role:"menu","aria-orientation":"horizontal",children:(e||[]).map((e,n)=>(0,a.jsx)(f,{reaction:e.reaction,onReact:(e,n)=>{t(e,n),i(!1)}},n))})}),(e||[]).map((e,n)=>(0,a.jsx)(x,{reactionGroup:e,onReact:(e,n)=>t(e,n)},n))]})}try{b.displayName||(b.displayName="ReactionViewerBase")}catch{}function j({reactionGroups:e,subjectId:n,canReact:t=!0}){let i=(0,o.useRelayEnvironment)(),c=(0,o.useFragment)(l,e),u=(0,r.useCallback)((e,a)=>{t&&(a?function({environment:e,input:{subject:n,content:t},onError:a,onCompleted:l}){return(0,o.commitMutation)(e,{mutation:d,variables:{input:{subjectId:n,content:t}},optimisticUpdater:e=>{let a=e.get(n);if(!a)return;let l=a.getLinkedRecords("reactionGroups");if(!l)return;let i=l.findIndex(e=>e.getValue("content")===t),r=l[i];if(r){r.setValue(!1,"viewerHasReacted");let t=`client:${n}:reactionGroups:${i}:reactors(first:5)`,a=e.get(t);if(a){let e=a.getValue("totalCount");a.setValue(e&&e>0?e-1:0,"totalCount")}}},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:i,input:{subject:n,content:e}}):function({environment:e,input:{subject:n,content:t},onError:a,onCompleted:l}){return(0,o.commitMutation)(e,{mutation:s,variables:{input:{subjectId:n,content:t}},optimisticUpdater:e=>{let a=e.get(n);if(!a)return;let l=a.getLinkedRecords("reactionGroups");if(!l)return;let i=l.findIndex(e=>e.getValue("content")===t),r=l[i];if(r){r.setValue(!0,"viewerHasReacted");let t=`client:${n}:reactionGroups:${i}:reactors(first:5)`,a=e.get(t);if(a){let e=a.getValue("totalCount");a.setValue(e?e+1:1,"totalCount")}}},onError:e=>a&&a(e),onCompleted:e=>l&&l(e)})}({environment:i,input:{subject:n,content:e}}))},[t,i,n]),m=(c.reactionGroups||[]).filter(e=>!!e).map(e=>({reaction:{content:e.content,viewerHasReacted:e.viewerHasReacted},reactors:e.reactors?.nodes?.map(e=>({login:e?.__typename==="%other"?"":e?.login,typeName:e?.__typename||""}))||[],totalCount:e.reactors?.totalCount||0}));return(0,a.jsx)(b,{reactionGroups:m,canReact:t,subjectId:n,onReact:u})}function C({id:e,subjectLocked:n}){let t=(0,o.useLazyLoadQuery)(i,{id:e},{fetchPolicy:"store-or-network"});return t.node?(0,a.jsx)(j,{subjectId:e,reactionGroups:t.node,canReact:!n}):null}let v=j;try{j.displayName||(j.displayName="ReactionViewerRelay")}catch{}try{C.displayName||(C.displayName="ReactionViewerRelayQueryComponent")}catch{}},73881:(e,n,t)=>{t.d(n,{N:()=>s});var a=t(74848),l=t(38621),i=t(87330),r=t(94977);let o={addOrRemoveReaction:"Add or remove reactions",reactionsUnavailable:"Reactions are currently unavailable"};function s({renderAnchorProps:e,reactionsAvailable:n}){let t=(0,a.jsx)(d,{renderAnchorProps:e,reactionsAvailable:n});return n?t:(0,a.jsx)(r.A,{"aria-label":o.reactionsUnavailable,children:t})}let d=({renderAnchorProps:e,reactionsAvailable:n})=>(0,a.jsx)(i.K,{unsafeDisableTooltip:!0,size:"small",sx:{borderRadius:100,height:28,width:28,display:"flex",alignItems:"center","& > span":{lineHeight:1,ml:"-1px"}},icon:l.SmileyIcon,...e,"aria-label":o.addOrRemoveReaction,inactive:!n,"aria-labelledby":void 0});try{s.displayName||(s.displayName="ReactionViewerAnchor")}catch{}try{d.displayName||(d.displayName="BaseIcon")}catch{}},27719:(e,n,t)=>{t.d(n,{A:()=>r});var a=t(74848),l=t(96540),i=t(23780);let r=class PreloadedQueryBoundary extends l.Component{static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e){(0,i.N7)(e)}render(){let{children:e,fallback:n}=this.props,{error:t}=this.state;return t?n(this._retry,t):e}constructor(...e){super(...e),this.state={error:null},this._retry=()=>{this.props.onRetry(),this.setState({error:null})}}};r.defaultProps={fallback:e=>(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{children:"Error:"}),(0,a.jsx)("button",{onClick:e,children:"Retry"})]})}}}]);
//# sourceMappingURL=ui_packages_commenting_constants_values_ts-ui_packages_use-analytics_use-analytics_ts-ui_pack-af4212-6fb9a63f57ca.js.map