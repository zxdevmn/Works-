"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_drag-and-drop_drag-and-drop_ts"],{92248:(e,t,a)=>{a.d(t,{Mp:()=>$.Mp,BS:()=>eF,Hd:()=>$.Hd,vL:()=>$.vL,uN:()=>$.uN,cA:()=>$.cA,sH:()=>L,AN:()=>$.AN,gB:()=>B.gB,TT:()=>$.TT,Mk:()=>R.Mk,dU:()=>R.dU,FN:()=>R.FN,fF:()=>$.fF,E5:()=>$.E5,gY:()=>F,PM:()=>$.PM,zM:()=>$.zM,MS:()=>$.MS,FR:()=>$.FR,gl:()=>B.gl,_G:()=>B._G});var r=a(74848),i=a(7572),n=a(92240),l=a(38621),o=a(23134),s=a(55847),d=a(2391),c=a(19920),u=a(65481),m=a(91246),v=a(20053),g=a(96540);let h={instructions:e=>`Moving ${e}.`,firstItemInList:"First item in list.",lastItemInList:"Last item in list.",movedBetween:(e,t)=>`Between ${e} and ${t}.`,movePosition:"Move item one position",cancelDrag:"Cancel drag mode",endDrag:"Place item",cancelMove:e=>`Cancel moving ${e}`,cancelMoveMultiple:(e,t)=>`Cancel moving ${e} and ${t} other items`,successfulFirstMove:e=>`${e} successfully moved to first item in list.`,successfulLastMove:e=>`${e} successfully moved to last item in list.`,successfulMove:(e,t,a)=>`${e} successfully moved between ${t} and ${a}.`,successfulNoMove:e=>`${e} did not move.`,entryLessThanOne:"Entry must be greater than 0.",entryGreaterThanList:e=>`Entry must be less than or equal to ${e}.`,entryIsRequired:"Entry is required.",entryIsInvalid:"Entry is invalid."},f={itemWillNotBeMoved:e=>`${e} will not be moved.`,movedToFirst:e=>`${e} will be first item in the list.`,movedToLast:e=>`${e} will be last item in the list.`,movedBetween:(e,t,a)=>`${e} will be between ${t} and ${a}.`,cannotBeMoved:e=>`${e} cannot be moved to an invalid position.`},p={dialogBody:"MoveDialog-module__dialogBody--LAeHh",form:"MoveDialog-module__form--cmYU8",title:"MoveDialog-module__title--lCiJF",dialogTitle:"MoveDialog-module__dialogTitle--DMkkn"};var x=a(97836),b=a(69593),y=a(67138);let j={form:"MoveDialogForm-module__form--uULos",autoComplete:"MoveDialogForm-module__autoComplete--M1Njp",datePickerAnchor:"MoveDialogForm-module__datePickerAnchor--CXHl5"},M=(0,g.createContext)({formLabel:"",onChange:()=>{}});function N(e){let{formProps:t,setIsInvalidOption:a,setHelperText:i,helperTextId:n}=e,{actions:l,onActionChange:o,actionsLabel:s}=t,[c,u]=(0,g.useState)(l[0]?.value),m=(0,g.useCallback)(e=>{o?.(e);let t=l.find(t=>t.value===e.target.value);t&&u(t.value)},[l,o]);return(0,r.jsx)(M.Provider,{value:(0,g.useMemo)(()=>({formLabel:c??"",onChange:(e,t)=>{i(e),a(t)},helperTextId:n}),[c,i,n,a]),children:(0,r.jsxs)("div",{className:(0,v.$)(j.form),children:[(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:s??"Action"}),(0,r.jsx)(b.A,{block:!0,onChange:m,children:l.map(e=>(0,r.jsx)(b.A.Option,{value:e.value,children:e.value},e.value))})]}),l.find(e=>e.value===c)?.renderInput]})})}let S=g.forwardRef((e,t)=>{let{helperText:a,isInvalid:i,...n}=e,{formLabel:l,onChange:o,helperTextId:s}=(0,g.useContext)(M);return(0,g.useEffect)(()=>{o(a??"",!!i)},[a,i,o]),(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:l}),(0,r.jsx)(b.A,{block:!0,"aria-invalid":i,validationStatus:i?"error":void 0,"aria-describedby":s,ref:t,...n})]})});S.displayName="MoveDialogForm.SingleSelect";let C=g.forwardRef((e,t)=>{let{isInvalid:a,helperText:i,...n}=e,{formLabel:l,onChange:o,helperTextId:s}=(0,g.useContext)(M);return(0,g.useEffect)(()=>{o(i,!!a)},[i,a,o]),(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:l}),(0,r.jsx)(y.A,{block:!0,"aria-invalid":a,validationStatus:a?"error":void 0,"aria-describedby":s,ref:t,...n})]})});function I(e){let{isInvalid:t,helperText:a,...i}=e,{formLabel:n,onChange:o}=(0,g.useContext)(M);(0,g.useEffect)(()=>{o(a,!!t)},[a,t,o]);let u={...i,renderAnchor:e=>{let{children:t,...a}=e;return(0,r.jsx)(s.Q,{trailingAction:l.TriangleDownIcon,block:!0,...a,children:t})}};return(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:n}),(0,r.jsx)(c.X,{...u})]})}function E(e){let{isInvalid:t,helperText:a,...i}=e,{formLabel:n,onChange:l,helperTextId:o}=(0,g.useContext)(M),s={anchor:"button",anchorClassName:j.datePickerAnchor,compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:n,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday"};(0,g.useEffect)(()=>{l(a,!!t)},[a,t,l]);let c={...s,...i};return(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:n}),(0,r.jsx)(x.DatePicker,{...c,"aria-describedby":o})]})}C.displayName="MoveDialogForm.Text",N.SingleSelect=S,N.Text=C,N.MultiSelect=I,N.Date=E,N.SingleSelectOption=b.A.Option;try{N.displayName||(N.displayName="MoveDialogForm")}catch{}try{I.displayName||(I.displayName="MultiSelect")}catch{}try{E.displayName||(E.displayName="DateInput")}catch{}let A="move-dialog-title",w=({closeDialog:e,onSubmit:t,formProps:a,title:f,submitButtonLabel:x,...b})=>{let y,j;let[M,S]=(0,g.useState)(!1),[C,I]=(0,g.useState)(!1),E="";b.multiSelectItems?y=b.selectPanelProps.selected[0]:E=b.selectedItem.value;let[w,D]=(0,g.useState)(""),F=(0,g.useId)(),T=(0,g.useRef)(null);(0,o.g)({containerRef:T,onClickOutside:e=>e.preventDefault()});let k=e=>{if(e.preventDefault(),M){let e=T.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}t?.(e)};return b.multiSelectItems&&(j={...b.selectPanelProps,selected:b.selectPanelProps.selected,onSelectedChange:e=>{b.multiSelectItems&&(e[0]!==y?I(!0):b.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...a}=e;return(0,r.jsx)(s.Q,{trailingAction:l.TriangleDownIcon,block:!0,...a,children:t})}}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.l,{title:(0,r.jsx)("span",{className:(0,v.$)(p.title),id:A,children:f??(b.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),b.multiSelectItems){let e=b.selectPanelProps.selected;(0,i.i)(h.cancelMoveMultiple(e[0]?.text??"",e?.length??0),{assertive:!0})}else(0,i.i)(h.cancelMove(E),{assertive:!0})},width:"large",ref:T,renderBody:()=>(0,r.jsxs)("form",{onSubmit:k,...(0,n.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,v.$)(p.form),noValidate:!0,"aria-labelledby":A,children:[(0,r.jsxs)(m.l.Body,{className:(0,v.$)(p.dialogBody),children:[(0,r.jsx)("div",{className:(0,v.$)(p.dialogTitle),children:b.multiSelectItems?(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,r.jsx)(c.X,{...j})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"text-bold",children:"Item"}),(0,r.jsx)("span",{children:E})]})}),(0,r.jsx)(N,{formProps:a,setHelperText:D,setIsInvalidOption:S,helperTextId:F}),(0,r.jsxs)(u.A,{"aria-live":"assertive",variant:M?"danger":"default",id:F,...(0,n.G)("drag-and-drop-move-dialog-flash"),children:[M?(0,r.jsx)(l.AlertIcon,{}):(0,r.jsx)(l.InfoIcon,{}),w]})]}),(0,r.jsx)(m.l.Footer,{className:"p-2",children:(0,r.jsx)(s.Q,{type:"submit",variant:"primary",...(0,n.G)("drag-and-drop-move-dialog-move-item-button"),children:x??"Move"})})]})}),C&&(0,r.jsxs)(m.l,{width:"large",title:"Missing selection",onClose:()=>{b.multiSelectItems&&I(!1)},children:[(0,r.jsx)(m.l.Body,{className:(0,v.$)(p.dialogBody),children:"The first item you selected cannot be deselected when performing a move."}),(0,r.jsx)(m.l.Footer,{className:"p-2",children:(0,r.jsx)(s.Q,{type:"submit",variant:"primary",onClick:()=>{b.multiSelectItems&&I(!1)},children:"I understand"})})]})]})};try{w.displayName||(w.displayName="MoveDialog")}catch{}let D=(0,g.createContext)(null),F=()=>{let e=(0,g.useContext)(D);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:a,moveToPosition:r,items:i,direction:n,moveDialogItem:l,openMoveDialog:o,isInDragMode:s}=e;return{isDropTarget:(0,g.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==a&&e<a,moveToPosition:r,items:i,direction:n,moveDialogItem:l,openMoveDialog:o,isInDragMode:s}},T=(0,g.createContext)({title:"",index:0,id:""}),k=()=>{let e=(0,g.useContext)(T);if(!e)throw Error("useSortableItem must be used within a SortableItemContextProvider");return e},L=({Component:e,returnFocusRef:t,...a})=>{let{title:i,index:n}=k(),l=(0,g.useRef)(null),{items:o,openMoveDialog:s}=F(),d=(0,g.useCallback)(()=>{s(i,n,t||l)},[s,i,n,t,l]);return 1===o.length?null:(0,r.jsx)(e,{ref:l,...a,onClick:d})};try{L.displayName||(L.displayName="MoveDialogTrigger")}catch{}var $=a(26239),R=a(18831),B=a(43627),_=a(97564),O=a(97156),P=a(95140),G=a(22240),K=a(52766),q=a(40961);function W(e,t){let a=(0,g.useRef)(!1);(0,g.useEffect)(()=>(t?(document.body.classList.add(e),a.current=!0):(a.current&&document.body.classList.remove(e),a.current=!1),()=>{a.current&&document.body.classList.remove(e),a.current=!1}),[e,t])}let z=(0,g.createContext)(void 0);try{z.displayName||(z.displayName="RootElementContext")}catch{}var U=a(70170),H=function(e){return e.BEFORE="Move item before",e.AFTER="Move item after",e.ROW="Move to position",e}({});let V=()=>"",X=(0,U.s)(e=>{(0,i.i)(e,{assertive:!0})},100),Q={onDragStart:V,onDragOver:V,onDragMove:V,onDragEnd:V,onDragCancel:V};function J({newIndex:e,items:t,title:a,...r}){let n=t[e-1]?.title,l=t[e+1]?.title,o=Y({equalMessage:h.successfulNoMove(a),firstPositionMessage:h.successfulFirstMove(a),lastPositionMessage:h.successfulLastMove(a),betweenBeforeMessage:h.successfulMove(a,n,t[e]?.title),betweenAfterMessage:h.successfulMove(a,t[e]?.title,l),newIndex:e,items:t,...r});(0,i.i)(o,{assertive:!0})}function Y({equalMessage:e,firstPositionMessage:t,lastPositionMessage:a,betweenBeforeMessage:r,betweenAfterMessage:i,newIndex:n,currentIndex:l,items:o,moveAction:s}){if(n===l)return e;if(0===n&&s!==H.AFTER)return t;if(n===o.length-1&&s!==H.BEFORE)return a;switch(s){case H.BEFORE:return r;case H.AFTER:return i;case H.ROW:if(n<l)return r;return i}}let Z={start:[$.vL.Space,$.vL.Enter],cancel:[$.vL.Esc],end:[$.vL.Space,$.vL.Enter]};R.FN,R.Mk;let CustomKeyboardSensor=class CustomKeyboardSensor extends $.uN{};CustomKeyboardSensor.activators=[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=Z,onActivation:a},{active:r})=>{let{code:i}=e.nativeEvent;if(t.start.includes(i)){let t=r.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),a?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let a=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:a}),!0}}];let ee=({collisionRect:e,droppableRects:t,droppableContainers:a})=>{let r=(e.top+e.bottom)/2,i=[];for(let e of a){let{id:a}=e,n=t.get(a);if(n){let t=Math.abs(r-(n.top+n.bottom)/2);i.push({id:a,data:{droppableContainer:e,value:t}})}}return i.sort((e,t)=>e.data.value-t.data.value)};var et=a(88360),ea=a(30729),er=a(52119);let ei="move-dialog-input-label",en=(e,t)=>e!==t+1&&e!==t,el=(e,t)=>e!==t-1&&e!==t,eo=(0,g.forwardRef)(function({onPositionChange:e,onMoveActionChange:t,moveAction:a,options:i,initialPosition:o,error:s},c){let[u,m]=(0,g.useState)(""),h=(0,g.useMemo)(()=>{let e=o-1,t=[],a=[];for(let r=0;r<i.length;r++)en(r,e)&&t.push({text:i[r]?.title||"",id:`${r+1}`}),el(r,e)&&a.push({text:i[r]?.title||"",id:`${r+1}`});return{before:t,after:a}},[o,i]),[f,p]=(0,g.useState)({text:"",id:"0"}),x=(0,g.useCallback)(t=>{if(void 0===t||""===t)return e(void 0);e(("string"==typeof t?parseInt(t,10):t)-1)},[e]),M=(0,g.useCallback)(e=>{p(e),x(e.id.toString())},[x]),N=(0,g.useMemo)(()=>e=>{let t=h[a===H.BEFORE?"before":"after"].find(t=>t.text===e);t?M(t):x(e)},[h,a,M,x]),S=s?{"aria-invalid":!0,"aria-describedby":"position-validation"}:null;return(0,r.jsxs)("div",{className:(0,v.$)(j.form),children:[(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{children:"Action"}),(0,r.jsx)(b.A,{block:!0,onChange:a=>{t(a.currentTarget.value),e(o)},children:Object.values(H).map(e=>(0,r.jsx)(b.A.Option,{value:e,children:e},e))})]}),(0,r.jsxs)(d.A,{required:!0,children:[(0,r.jsx)(d.A.Label,{id:ei,children:a}),a===H.ROW?(0,r.jsx)(y.A,{block:!0,min:1,max:i.length,defaultValue:o,type:"number",onChange:e=>x(e.target.value),ref:c,...S,...(0,n.G)("drag-and-drop-move-dialog-position-input")}):(0,r.jsxs)(er.A,{children:[(0,r.jsx)(er.A.Input,{placeholder:"Position",value:f.text,onChange:e=>{N(e.target.value),m(e.target.value)},openOnFocus:!1,leadingVisual:l.SearchIcon,className:"width-full",ref:c,...S,...(0,n.G)("drag-and-drop-move-dialog-position-input")}),(0,r.jsx)(er.A.Overlay,{className:(0,v.$)(j.autoComplete),children:(0,r.jsx)(er.A.Menu,{items:h[a===H.BEFORE?"before":"after"],"aria-labelledby":ei,selectedItemIds:[f.id.toString()],onSelectedChange:e=>{if(!Array.isArray(e))return;let t=e.find(function(e){if(e?.id)return f.id!==e.id});t&&M(t)},filterFn:e=>e.text.toLowerCase().includes(u.toLowerCase())})})]}),s&&(0,r.jsx)(d.A.Validation,{id:"position-validation",variant:"error",children:s})]})]})});try{eo.displayName||(eo.displayName="MoveDialogForm")}catch{}let es=(e,t)=>void 0===t?h.entryIsRequired:t<0?h.entryLessThanOne:t>e.length?h.entryGreaterThanList(e.length):h.entryIsInvalid,ed=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ec=({closeDialog:e})=>{let{moveDialogItem:t}=F(),{title:a,index:d}=t??{title:"",index:-1},[c,x]=(0,g.useState)(),[b,y]=(0,g.useState)(H.BEFORE),[j,M]=(0,g.useState)(`${a} will be moved ...`),[N,S]=(0,g.useState)(!1),C=(0,g.useRef)(null),{moveToPosition:I,items:E}=F(),[A,w]=(0,g.useState)(),D=(0,g.useRef)(null),T=(0,g.useMemo)(()=>e=>{let t="";if(void 0===e)S(!1),t=`${a} will be moved ...`;else if(ed(E,e))S(!0),t=f.cannotBeMoved(a);else if(S(!1),e===d&&b!==H.AFTER)t=f.itemWillNotBeMoved(a);else if(0===e&&b!==H.AFTER)t=f.movedToFirst(a);else if(e===E.length-1&&b!==H.BEFORE)t=f.movedToLast(a);else{let r=E[e-1]?.title,i=E[e+1]?.title;switch(b){case H.BEFORE:t=f.movedBetween(a,r,E[e]?.title);break;case H.AFTER:t=f.movedBetween(a,E[e]?.title,i);break;case H.ROW:t=e<d?f.movedBetween(a,r,E[e]?.title):f.movedBetween(a,E[e]?.title,i)}}M(t)},[a,E,b,d]),k=(0,et.d)(T,100);(0,g.useEffect)(()=>{b!==H.ROW?(x(void 0),w(void 0),k()):(x(d),w(void 0),k(d))},[b,k,d]);let L=t=>{if(t.preventDefault(),void 0===c||ed(E,c)){w(es(E,c)),D.current?.focus();return}switch(b){case H.ROW:c>=d?I(d,c,!1):I(d,c,!0);break;case H.BEFORE:I(d,c,!0);break;case H.AFTER:default:I(d,c,!1)}e(),J({newIndex:c,currentIndex:d,items:E,title:a,moveAction:b})};return(0,o.g)({containerRef:C,onClickOutside:e=>e.preventDefault()}),(0,r.jsx)(m.l,{title:(0,r.jsx)("span",{className:(0,v.$)(p.title),children:"Move selected item"}),onClose:()=>{e(),(0,i.i)(h.cancelMove(a),{assertive:!0})},width:"large",ref:C,renderBody:()=>(0,r.jsxs)("form",{onSubmit:L,...(0,n.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,v.$)(p.form),noValidate:!0,children:[(0,r.jsxs)(m.l.Body,{className:(0,v.$)(p.dialogBody),children:[(0,r.jsxs)("div",{className:(0,v.$)(p.dialogTitle),children:[(0,r.jsx)("span",{className:"text-bold",children:"Item"}),(0,r.jsx)("span",{children:a})]}),(0,r.jsx)(eo,{options:E,onPositionChange:e=>{x(e),w(void 0),k(e)},initialPosition:d+1,moveAction:b,onMoveActionChange:y,error:A,ref:D}),(0,r.jsxs)(u.A,{"aria-live":"assertive",variant:N?"warning":"default",...(0,n.G)("drag-and-drop-move-dialog-flash"),children:[(0,r.jsx)(ea.A,{icon:N?l.AlertIcon:l.InfoIcon,className:"fgColor-accent"}),j]})]}),(0,r.jsx)(m.l.Footer,{className:"p-2",children:(0,r.jsx)(s.Q,{type:"submit",variant:"primary",...(0,n.G)("drag-and-drop-move-dialog-move-item-button"),children:"Move"})})]})})};try{ec.displayName||(ec.displayName="MoveDialog")}catch{}var eu=a(65607),em=a(30871);let ev={instructionContainer:"KeyboardSpecificInstructionsDialog-module__instructionContainer--mMMA3",instruction:"KeyboardSpecificInstructionsDialog-module__instruction--cVFch",footerContainer:"KeyboardSpecificInstructionsDialog-module__footerContainer--G_jqi",footerForm:"KeyboardSpecificInstructionsDialog-module__footerForm--ifodW",footerButton:"KeyboardSpecificInstructionsDialog-module__footerButton--JEK34"},eg="hideKeyboardSpecificInstructions",eh=({onClose:e})=>{let[t,a]=(0,K.M)(eg,!1);return(0,r.jsxs)("div",{className:(0,v.$)(ev.footerContainer),children:[(0,r.jsx)("div",{className:(0,v.$)(ev.footerForm),children:(0,r.jsxs)(d.A,{children:[(0,r.jsx)(eu.A,{checked:t,onChange:()=>a(!t)}),(0,r.jsx)(d.A.Label,{children:"Don't show this again"})]})}),(0,r.jsx)("div",{className:(0,v.$)(ev.footerButton),children:(0,r.jsx)(s.Q,{onClick:e,children:"Close"})})]})},ef=({isOpen:e,onClose:t,direction:a,keyboardCodes:i=Z})=>e?(0,r.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,r.jsx)(m.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,r.jsx)(m.l.Footer,{className:"d-flex",children:(0,r.jsx)(eh,{onClose:t})}),children:(0,r.jsxs)("table",{className:(0,v.$)(ev.instructionContainer),children:[(0,r.jsx)("thead",{className:"sr-only",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"text=bold",children:"Action"}),(0,r.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsxs)("tr",{className:(0,v.$)(ev.instruction),children:[(0,r.jsx)("td",{children:h.cancelDrag}),(0,r.jsx)("td",{children:i.cancel.map((e,t)=>(0,r.jsxs)(g.Fragment,{children:[t>0&&(0,r.jsx)("span",{children:" / "}),(0,r.jsx)(em.U,{keys:e})]},e))})]}),(0,r.jsxs)("tr",{className:(0,v.$)(ev.instruction),children:[(0,r.jsx)("td",{children:h.movePosition}),(0,r.jsxs)("td",{children:[(0,r.jsx)(em.U,{keys:"vertical"===a?"up":"left"}),(0,r.jsx)("span",{children:" / "}),(0,r.jsx)(em.U,{keys:"vertical"===a?"down":"right"})]})]}),(0,r.jsxs)("tr",{className:(0,v.$)(ev.instruction,"border-bottom-0"),children:[(0,r.jsx)("td",{children:h.endDrag}),(0,r.jsx)("td",{children:i.end.map((e,t)=>(0,r.jsxs)(g.Fragment,{children:[t>0&&(0,r.jsx)("span",{children:" / "}),(0,r.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;try{eh.displayName||(eh.displayName="KeyboardSpecificInstructionsFooter")}catch{}try{ef.displayName||(ef.displayName="KeyboardSpecificInstructionsDialog")}catch{}let ep=(e,t)=>e!==t+1&&e!==t,ex=(e,t)=>e!==t-1&&e!==t,eb=(e,t)=>void 0===t?h.entryIsRequired:t<0?h.entryLessThanOne:t>e.length?h.entryGreaterThanList(e.length):h.entryIsInvalid,ey=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ej=({closeDialog:e})=>{let t=(0,g.useRef)(null),{moveDialogItem:a,moveToPosition:i,items:l}=F(),{title:o,index:s}=a??{title:"",index:-1},[d,c]=(0,g.useState)(!1),[u,m]=(0,g.useState)(),[v,h]=(0,g.useState)(H.BEFORE),[p,x]=(0,g.useState)(""),y=(0,g.useMemo)(()=>e=>{let t="";if(void 0===e||ey(l,e))t=eb(l,e);else{let a=l[e-1]?.title,r=l[e+1]?.title;t=Y({equalMessage:f.itemWillNotBeMoved(o),firstPositionMessage:f.movedToFirst(o),lastPositionMessage:f.movedToLast(o),betweenBeforeMessage:f.movedBetween(o,a,l[e]?.title),betweenAfterMessage:f.movedBetween(o,l[e]?.title,r),newIndex:e,currentIndex:s,items:l,moveAction:v})}x(t)},[o,s,v,l]),j=(0,et.d)(y,100);(0,g.useEffect)(()=>{if(t.current?.value){let e=v===H.ROW?-1:0,a=parseInt(t.current?.value,10)+e;m(isNaN(a)?void 0:a),j(isNaN(a)?void 0:a)}},[j,t,v]);let M=e=>{ey(l,e)?c(!0):c(!1),m(e&&isNaN(e)?void 0:e),j(e)};return(0,r.jsx)(w,{closeDialog:e,formProps:{actions:[{value:H.BEFORE,renderInput:(0,r.jsx)(N.SingleSelect,{ref:v===H.BEFORE?t:void 0,helperText:p,onChange:e=>{M(Number(e.currentTarget.value))},isInvalid:!1,...(0,n.G)("drag-and-drop-move-dialog-position-input"),children:l.map((e,t)=>{if(ep(t,s))return(0,r.jsx)(b.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})},{value:H.AFTER,renderInput:(0,r.jsx)(N.SingleSelect,{ref:v===H.AFTER?t:void 0,helperText:p,onChange:e=>{M(Number(e.currentTarget.value))},isInvalid:!1,...(0,n.G)("drag-and-drop-move-dialog-position-input"),children:l.map((e,t)=>{if(ex(t,s))return(0,r.jsx)(b.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})},{value:H.ROW,renderInput:(0,r.jsx)(N.Text,{ref:v===H.ROW?t:void 0,helperText:p,min:1,max:l.length,defaultValue:s+1,type:"number",onChange:e=>{M(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:d,...(0,n.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{h(e.target.value),c(!1)}},selectedItem:{value:o},onSubmit:()=>{if(void 0!==u){switch(v){case H.ROW:u>=s?i(s,u,!1):i(s,u,!0);break;case H.BEFORE:i(s,u,!0);break;case H.AFTER:default:i(s,u,!1)}e(),J({newIndex:u,currentIndex:s,items:l,title:o,moveAction:v})}}})};try{ej.displayName||(ej.displayName="SortableMoveDialog")}catch{}let eM={isKeyboardDragging:"SortableListContainer-module__isKeyboardDragging--rQZ0q",container:"SortableListContainer-module__container--MDMg5"},eN=({onDrop:e,items:t,direction:a="vertical",children:l,as:o="ul",renderOverlay:s,keyboardCodes:d,...c})=>{let[u,m]=(0,g.useState)(!1),[f,p]=(0,g.useState)(0),[x,b]=(0,g.useState)(!1),[y,j]=(0,g.useState)(0),[M,N]=(0,g.useState)(null),[S,C]=(0,g.useState)(!1),[I]=(0,K.M)(eg,!1),[E,A]=(0,g.useState)(!1),[w,F]=(0,g.useState)(null),T=t.map(e=>e.id),k=(0,g.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);W("is-dragging",u),W(eM.isKeyboardDragging??"",E);let[L,U]=(0,g.useState)(null),H=(0,G.j)(),V=(0,_.G7)("drag_and_drop_experimental_move_dialog"),J=(0,g.useCallback)(()=>{C(!1)},[]),Y=(0,g.useCallback)(e=>{if(!e.active)return;(0,i.i)(h.instructions(k[e.active.id]??e.active.id),{assertive:!0});let t=e.active.data.current?.metadata;N(t?.id??null),j(e.active.data.current?.sortable.index??0),p(e.active.data.current?.sortable.index??0),m(!0)},[k]),Z=(0,g.useCallback)(e=>{let t=e.over?.data.current?.metadata;N(t?.id??null),x||b(!0),e.over&&e.over.data.current&&p(e.over.data.current.sortable.index)},[x]);(0,g.useEffect)(()=>{if(u&&x){if(0===f)X(h.firstItemInList);else if(f===T.length-1)X(h.lastItemInList);else{let e=f<=y,t=f===y,a=e?T[f-1]:T[f+1],r=t?T[f+1]:T[f];X(h.movedBetween(k[a],k[r]))}}},[u,x,f,k,T,y]);let et=(0,g.useCallback)(e=>{(0,i.i)(`${k[e.active.id]??e.active.id} not moved.`,{assertive:!0}),m(!1),A(!1),b(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:H?"instant":"smooth",block:"nearest"})},1)},[k,H]),ea=(0,g.useCallback)(a=>{if(m(!1),A(!1),b(!1),!a.active||!a.over)return;let r=a.active.data.current?.metadata,n=a.over.data.current?.metadata;r?.id!==n?.id&&e({dragMetadata:r,dropMetadata:n,isBefore:f<y}),N(null),function({newIndex:e,currentIndex:t,items:a,title:r}){let n=a.map(e=>e.id);if(e===t)(0,i.i)(h.successfulNoMove(r),{assertive:!0});else if(0===e)(0,i.i)(h.successfulFirstMove(r),{assertive:!0});else if(e===a.length-1)(0,i.i)(h.successfulLastMove(r),{assertive:!0});else{let l=e<=t?n[e-1]:n[e+1],o=n[e],s=a.find(e=>e.id===l)?.title??"",d=a.find(e=>e.id===o)?.title??"";(0,i.i)(h.successfulMove(r,s,d),{assertive:!0})}}({newIndex:f,currentIndex:y,items:t,title:k[a.active.id]})},[f,y,t,k,e]),er=(0,g.useCallback)((t,a,r)=>{N(T[a]??null);let i=T[t],n=T[a];i&&n&&e({dragMetadata:{id:i},dropMetadata:{id:n},isBefore:r??a<t})},[T,e]),ei=(0,g.useContext)(z),en=(0,g.useMemo)(()=>()=>{x||I||C(!0),A(!0)},[I,x]),el=(0,g.useCallback)((e,t,a)=>{F({title:e,index:t,returnFocusRef:a})},[]),eo=(0,g.useCallback)(()=>{F(null),U(w?.returnFocusRef?.current??null)},[w]),es=(0,$.FR)((0,$.MS)($.cA),(0,$.MS)(CustomKeyboardSensor,{coordinateGetter:B.JR,keyboardCodes:d,onActivation:en}));(0,g.useEffect)(()=>{L?.focus(),U(null)},[L]);let ed=t[y],[eu]=(0,P.I)(()=>document.body,null,[O.XC?.body]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ef,{isOpen:S,onClose:J,direction:a,keyboardCodes:d}),(0,r.jsx)($.Mp,{collisionDetection:(0,g.useMemo)(()=>"horizontal"===a?$.y$:ee,[a]),modifiers:(0,g.useMemo)(()=>"horizontal"===a?[R.dU]:[R.FN],[a]),sensors:es,onDragStart:Y,onDragOver:Z,onDragEnd:ea,onDragCancel:et,accessibility:(0,g.useMemo)(()=>({container:ei,announcements:Q}),[ei]),children:(0,r.jsx)(B.gB,{items:T,strategy:(0,g.useMemo)(()=>"horizontal"===a?B.m$:B._G,[a]),children:(0,r.jsxs)(D.Provider,{value:(0,g.useMemo)(()=>({overId:M,dragIndex:y,moveToPosition:er,items:t,direction:a,openMoveDialog:el,moveDialogItem:w,isInDragMode:u&&!S}),[M,y,er,t,a,el,w,u,S]),children:[w&&!V&&(0,r.jsx)(ec,{closeDialog:eo}),w&&V&&(0,r.jsx)(ej,{closeDialog:eo}),(0,r.jsx)(o,{...c,className:(0,v.$)(eM.container),...(0,n.G)("sortable-list"),onKeyDown:e=>{u&&"Tab"===e.code&&e.preventDefault()},children:l}),eu?(0,q.createPortal)((0,r.jsx)($.Hd,{dropAnimation:null,className:(0,v.$)(eM.container),children:ed&&!S?s(ed,y):null}),eu):null]})})})]})};try{eN.displayName||(eN.displayName="SortableListContainer")}catch{}let eS={dragItem:"SortableListItem-module__dragItem--QbM4N",vertical:"SortableListItem-module__vertical--gKirP",horizontal:"SortableListItem-module__horizontal--Q4fny",contents:"SortableListItem-module__contents--YiGyX",dragOverlay:"SortableListItem-module__dragOverlay--pXiBk"};var eC=a(64342),eI=a(64515),eE=a(87330);let eA={trigger:"SortableListTrigger-module__trigger--CqPGy",mouseTrigger:"SortableListTrigger-module__mouseTrigger--ADZ9c"},ew=(0,g.forwardRef)(function(e,t){let{title:a,id:i}=k(),{setActivatorNodeRef:o,listeners:s,isDragging:d,items:c}=(0,B.gl)({id:i,data:{metadata:{id:i}}}),{isTouchDevice:u}=(0,eC.k)(),m=(0,g.useRef)(null);(0,eI.T)(t,m);let{onMouseDown:h,onClick:f,onKeyDown:p}=s;return(0,r.jsxs)("div",{...(0,n.G)("sortable-trigger-container"),className:(0,v.$)(eA.trigger,{"v-hidden":1===c.length||u}),children:[(0,r.jsx)("div",{onMouseDown:h,className:(0,v.$)(eA.mouseTrigger),...(0,n.G)("sortable-mouse-trigger")}),(0,r.jsx)(eE.K,{className:"mr-1 p-1","aria-label":`Move ${a}`,ref:e=>{m.current=e,o(e)},onKeyDown:p,onClick:f,variant:"invisible",role:d?"application":"button",icon:l.GrabberIcon,size:"large",...e,...(0,n.G)("sortable-trigger")})]})});try{ew.displayName||(ew.displayName="SortableListTrigger")}catch{}let eD=({children:e,id:t,index:a,title:i,containerStyle:l,style:o,hideSortableItemTrigger:s,isDragOverlay:d=!1,role:c,as:u="li",...m})=>{let h=(0,G.j)(),{setNodeRef:f,isDragging:p,transform:x,transition:b}=(0,B.gl)({id:t,data:{metadata:{id:t}}}),{direction:y,isInDragMode:j}=F(),M=(0,v.$)("position-relative",m.className,j&&{[eS.dragItem]:p,[eS.horizontal]:"horizontal"===y,[eS.vertical]:"vertical"===y}),N={transform:x?`
        translateX(${Math.round(x.x)}px)
        translateY(${Math.round(x.y)}px)
        scaleX(${x.scaleX})
        scaleY(${x.scaleY})
      `:"none",transition:h?"none":b};return(0,r.jsx)(T.Provider,{value:(0,g.useMemo)(()=>({index:a,title:i,id:t}),[a,t,i]),children:(0,r.jsx)(d?"div":u,{...m,...(0,n.G)(d?"drag-overlay":"sortable-item"),className:M,style:{...d?{}:l,...N},ref:f,children:(0,r.jsxs)("div",{style:o,className:(0,v.$)("position-relative",j&&eS.contents,d&&eS.dragOverlay),role:c,children:[!s&&(0,r.jsx)(ew,{}),e]})})})};try{eD.displayName||(eD.displayName="SortableListItem")}catch{}let eF=Object.assign(eN,{Item:eD,DragTrigger:ew,MoveDialog:w,MoveDialogTrigger:L});try{eF.displayName||(eF.displayName="DragAndDrop")}catch{}a(74979)},22240:(e,t,a)=>{let r;a.d(t,{j:()=>d});var i=a(96540);function n(){return r||(r=window.matchMedia("(prefers-reduced-motion: reduce)"))}function l(){return!1}function o(){return n().matches}function s(e){let t=n();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function d(){return(0,i.useSyncExternalStore)(s,o,l)}},52766:(e,t,a)=>{a.d(t,{M:()=>s,s:()=>d});var r=a(74572),i=a(96540);let n=(0,r.A)("localStorage"),l="local-storage-update",o=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(l),this.storageKey=e,this.storageValue=t}};function s(e,t){let a=(0,i.useRef)(t);(0,i.useEffect)(()=>{a.current=t});let[r,s]=(0,i.useState)(()=>{let t=n.getItem(e);return t?JSON.parse(t):a.current}),d=(0,i.useCallback)(t=>{s(t??a.current),void 0===t?n.removeItem(e):n.setItem(e,JSON.stringify(t)),document.dispatchEvent(new o(e,t))},[e]);return(0,i.useEffect)(()=>{function t(t){t.storageKey===e&&s(t.storageValue??a.current)}document.addEventListener(l,t);let r=n.getItem(e);return r?s(JSON.parse(r)):s(a.current),()=>{document.removeEventListener(l,t)}},[e]),[r,d]}function d(e){for(let t of e)n.removeItem(t),document.dispatchEvent(new o(t,void 0))}},64342:(e,t,a)=>{a.d(t,{k:()=>s});var r=a(96540),i=a(46996),n=a(97156),l=a(95140);let o=e=>({height:e.clientHeight,isLandscape:window.matchMedia("(orientation: landscape)").matches,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,pixelDensity:window.devicePixelRatio,width:e.clientWidth});function s(){let[e]=(0,l.I)(()=>document.documentElement,null,[n.XC?.documentElement]),t=(0,r.useRef)({}),a=(0,r.useCallback)(t=>{if(!e)return()=>void 0;let a=new ResizeObserver(t);return a.observe(e),()=>{a.unobserve(e),a.disconnect()}},[e]);return(0,r.useSyncExternalStore)(a,()=>{if(!e)return t.current;let a=o(e);return(0,i.A)(a,t.current)?t.current:(t.current=a,a)},()=>t.current)}}}]);
//# sourceMappingURL=ui_packages_drag-and-drop_drag-and-drop_ts-0bd12d656348.js.map